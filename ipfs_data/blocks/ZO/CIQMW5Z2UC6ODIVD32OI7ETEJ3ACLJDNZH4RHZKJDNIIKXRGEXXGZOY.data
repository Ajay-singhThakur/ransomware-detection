e&&t)return{actionCreator:"doFetchPeers"}})),le.reactPeersFetchWhenActive=(0,V.Mz)("selectAppTime","selectRouteInfo","selectPeersRaw","selectIpfsConnected",((e,t,n,r,o)=>{const i=n.lastSuccess||0;if("/peers"===t.url&&o&&!n.isLoading&&e-i>Q().seconds(5))return{actionCreator:"doFetchPeers"}})),le.selectSelectedPeers=e=>e.peers.selectedPeers,le.doSetSelectedPeers=e=>t=>{let{dispatch:n}=t;n({type:"SET_SELECTED_PEER",payload:e})};const fe=le;function he(e){return new Promise(((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)}))}function de(e,t){const n=function(){if(navigator.userAgentData||!/Safari\//.test(navigator.userAgent)||/Chrom(e|ium)\//.test(navigator.userAgent)||!indexedDB.databases)return Promise.resolve();let e;return new Promise((t=>{const n=()=>indexedDB.databases().finally(t);e=setInterval(n,100),n()})).finally((()=>clearInterval(e)))}().then((()=>{const n=indexedDB.open(e);return n.onupgradeneeded=()=>n.result.createObjectStore(t),he(n)}));return(e,r)=>n.then((n=>r(n.transaction(t,e).objectStore(t))))}let pe;function ge(){return pe||(pe=de("keyval-store","keyval")),pe}function ye(e,t){return e("readonly",(e=>(e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},he(e.transaction))))}var me={__proto__:null,clear:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge())("readwrite",(e=>(e.clear(),he(e.transaction))))},createStore:de,del:function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:ge())("readwrite",(t=>(t.delete(e),he(t.transaction))))},entries:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge();const t=[];return ye(e,(e=>t.push([e.key,e.value]))).then((()=>t))},get:function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:ge())("readonly",(t=>he(t.get(e))))},getMany:function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:ge())("readonly",(t=>Promise.all(e.map((e=>he(t.get(e)))))))},keys:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge();const t=[];return ye(e,(e=>t.push(e.key))).then((()=>t))},promisifyRequest:he,set:function(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:ge())("readwrite",(n=>(n.put(t,e),he(n.transaction))))},setMany:function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:ge())("readwrite",(t=>(e.forEach((e=>t.put(e[1],e[0]))),he(t.transaction))))},update:function(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:ge())("readwrite",(n=>new Promise(((r,o)=>{n.get(e).onsuccess=function(){try{n.put(t(this.result),e),r(he(n.transaction))}catch(i){o(i)}}}))))},values:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge();const t=[];return ye(e,(e=>t.push(e.value))).then((()=>t))}},be={maxAge:1/0,version:0,lib:me},ve=function(e){return Object.assign({},be,e)},we=function(e,t,n){var r=ve(t),o=r.maxAge,i=r.version,s=r.lib;return s.get(e,n).then(JSON.parse).then((function(t){return Date.now()-t.time>o||i!==t.version?(s.del(e,n),null):t.data})).catch((function(){return null}))},Ee=function(e){var t,n=ve(e);return n.name&&(t=de(n.name,n.name)),{get:function(e){return we(e,n,t)},set:function(e,r){return function(e,t,n,r){var o=ve(n),i=o.lib,s=o.version;return i.set(e,JSON.stringify({version:s,time:Date.now(),data:t}),r).catch((function(){return null}))}(e,r,n,t)},getAll:function(){return function(e,t){var n,r=ve(e);return r.lib.keys(t).then((function(e){return n=e,Promise.all(n.map((function(e){return we(e,r,t)})))})).then((function(e){return e.reduce((function(e,t,r){return t&&(e[n[r]]=t),e}),{})})).catch((function(){}))}(n,t)},del:function(e){return n.lib.del(e,t)},clear:function(){return n.lib.clear(t)},keys:function(){return n.lib.keys(t)}}},Ae=Object.create,Se=Object.defineProperty,Ce=Object.getOwnPropertyDescriptor,Te=Object.getOwnPropertyNames,ke=Object.getPrototypeOf,xe=Object.prototype.hasOwnProperty,Oe=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ie=(e,t,n)=>(n=null!=e?Ae(ke(e)):{},((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of Te(t))!xe.call(e,o)&&o!==n&&Se(e,o,{get:()=>t[o],enumerable:!(r=Ce(t,o))||r.enumerable});return e})(!t&&e&&e.__esModule?n:Se(n,"default",{value:e,enumerable:!0}),e)),Pe=Oe(((e,t)=>{var n,r=typeof self<"u"?self:e,o=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();n=o,function(e){var t="URLSearchParams"in n,r="Symbol"in n&&"iterator"in Symbol,o="FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch{return!1}}(),i="FormData"in n,s="ArrayBuffer"in n;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function l(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function c(e){return"string"!=typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function d(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function g(e){var t=new FileReader,n=p(t);return t.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:i&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:t&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&o&&function(e){return e&&DataView.prototype.isPrototypeOf(e)}(e)?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=p(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=l(e),t=c(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},h.prototype.delete=function(e){delete this.map[l(e)]},h.prototype.get=function(e){return e=l(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(l(e))},h.prototype.set=function(e,t){this.map[l(e)]=c(t)},h.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),f(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),f(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),f(e)},r&&(h.prototype[Symbol.iterator]=h.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(e,t){var n=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,!n&&null!=e._bodyInit&&(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new h(t.headers)),this.method=function(e){var t=e.toUpperCase();return b.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function E(e){var t=new h;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}})),t}function A(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},m.call(v.prototype),m.call(A.prototype),A.prototype.clone=function(){return new A(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},A.error=function(){var e=new A(null,{status:0,statusText:""});return e.type="error",e};var S=[301,302,303,307,308];A.redirect=function(e,t){if(-1===S.indexOf(t))throw new RangeError("Invalid status code");return new A(null,{status:t,headers:{location:e}})},e.DOMException=n.DOMException;try{new e.DOMException}catch{e.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function C(t,n){return new Promise((function(r,i){var s=new v(t,n);if(s.signal&&s.signal.aborted)return i(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:E(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;r(new A(t,e))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.onabort=function(){i(new e.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&o&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",u)}),a.send(typeof s._bodyInit>"u"?null:s._bodyInit)}))}C.polyfill=!0,n.fetch||(n.fetch=C,n.Headers=h,n.Request=v,n.Response=A),e.Headers=h,e.Request=v,e.Response=A,e.fetch=C,Object.defineProperty(e,"__esModule",{value:!0})}({}),o.fetch.ponyfill=!0,delete o.fetch.polyfill;var i=o;(e=i.fetch).default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})),Be=Oe((e=>{e.byteLength=function(e){var t=s(e),n=t[0],r=t[1];return 3*(n+r)/4-r},e.toByteArray=function(e){var t,n,i=s(e),a=i[0],u=i[1],l=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,u)),c=0,f=u>0?a-4:a;for(n=0;n<f;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;return 2===u&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[c++]=255&t),1===u&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t),l},e.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],s=16383,a=0,l=r-o;a<l;a+=s)i.push(u(e,a,a+s>l?l:a+s));return 1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),i.join("")};var t,n=[],r=[],o=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(t=0,64;t<64;++t)n[t]=i[t],r[i.charCodeAt(t)]=t;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function a(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function u(e,t,n){for(var r,o=[],i=t;i<n;i+=3)r=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),o.push(a(r));return o.join("")}r[45]=62,r[95]=63})),De=Oe((e=>{e.read=function(e,t,n,r,o){var i,s,a=8*o-r-1,u=(1<<a)-1,l=u>>1,c=-7,f=n?o-1:0,h=n?-1:1,d=e[t+f];for(f+=h,i=d&(1<<-c)-1,d>>=-c,c+=a;c>0;i=256*i+e[t+f],f+=h,c-=8);for(s=i&(1<<-c)-1,i>>=-c,c+=r;c>0;s=256*s+e[t+f],f+=h,c-=8);if(0===i)i=1-l;else{if(i===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),i-=l}return(d?-1:1)*s*Math.pow(2,i-r)},e.write=function(e,t,n,r,o,i){var s,a,u,l=8*i-o-1,c=(1<<l)-1,f=c>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:i-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(s++,u/=2),s+f>=c?(a=0,s=c):s+f>=1?(a=(t*u-1)*Math.pow(2,o),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,o),s=0));o>=8;e[n+d]=255&a,d+=p,a/=256,o-=8);for(s=s<<o|a,l+=o;l>0;e[n+d]=255&s,d+=p,s/=256,l-=8);e[n+d-p]|=128*g}})),Ne=Oe((e=>{var t=Be(),n=De(),r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=s,e.SlowBuffer=function(e){return+e!=e&&(e=0),s.alloc(+e)},e.INSPECT_MAX_BYTES=50;var o=2147483647;function i(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,s.prototype),t}function s(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return a(e,t,n)}function a(e,t,n){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!s.isEncoding(t))throw new TypeError("Unknown encoding: "+t);let n=0|d(e,t),r=i(n),o=r.write(e,t);return o!==n&&(r=r.slice(0,o)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(q(e,Uint8Array)){let t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return c(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(q(e,ArrayBuffer)||e&&q(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(q(e,SharedArrayBuffer)||e&&q(e.buffer,SharedArrayBuffer)))return f(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');let r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return s.from(r,t,n);let o=function(e){if(s.isBuffer(e)){let t=0|h(e.length),n=i(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||K(e.length)?i(0):c(e);if("Buffer"===e.type&&Array.isArray(e.data))return c(e.data)}(e);if(o)return o;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return u(e),i(e<0?0:0|h(e))}function c(e){let t=e.length<0?0:0|h(e.length),n=i(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,s.prototype),r}function h(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function d(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||q(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return $(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(e).length;default:if(o)return r?-1:$(e).length;t=(""+t).toLowerCase(),o=!0}}function p(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0)||(n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return k(this,t,n);case"latin1":case"binary":return x(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){let r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),K(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=s.from(t,r)),s.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function m(e,t,n,r,o){let i,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function l(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){let r=-1;for(i=n;i<a;i++)if(l(e,i)===l(t,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===u)return r*s}else-1!==r&&(i-=i-r),r=-1}else for(n+u>a&&(n=a-u),i=n;i>=0;i--){let n=!0;for(let r=0;r<u;r++)if(l(e,i+r)!==l(t,r)){n=!1;break}if(n)return i}return-1}function b(e,t,n,r){n=Number(n)||0;let o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;let i,s=t.length;for(r>s/2&&(r=s/2),i=0;i<r;++i){let r=parseInt(t.substr(2*i,2),16);if(K(r))return i;e[n+i]=r}return i}function v(e,t,n,r){return W($(t,e.length-n),e,n,r)}function w(e,t,n,r){return W(function(e){let t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return W(G(t),e,n,r)}function A(e,t,n,r){return W(function(e,t){let n,r,o,i=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function S(e,n,r){return 0===n&&r===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(n,r))}function C(e,t,n){n=Math.min(e.length,n);let r=[],o=t;for(;o<n;){let t=e[o],i=null,s=t>239?4:t>223?3:t>191?2:1;if(o+s<=n){let n,r,a,u;switch(s){case 1:t<128&&(i=t);break;case 2:n=e[o+1],128===(192&n)&&(u=(31&t)<<6|63&n,u>127&&(i=u));break;case 3:n=e[o+1],r=e[o+2],128===(192&n)&&128===(192&r)&&(u=(15&t)<<12|(63&n)<<6|63&r,u>2047&&(u<55296||u>57343)&&(i=u));break;case 4:n=e[o+1],r=e[o+2],a=e[o+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(u=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&a,u>65535&&u<1114112&&(i=u))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=s}return function(e){let t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}e.kMaxLength=o,s.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch{return!1}}(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(e,t,n){return a(e,t,n)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?i(e):void 0!==t?"string"==typeof n?i(e).fill(t,n):i(e).fill(t):i(e)}(e,t,n)},s.allocUnsafe=function(e){return l(e)},s.allocUnsafeSlow=function(e){return l(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(q(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),q(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;let r=s.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){let t=e[n];if(q(t,Uint8Array))o+t.length>r.length?(s.isBuffer(t)||(t=s.from(t)),t.copy(r,o)):Uint8Array.prototype.set.call(r,t,o);else{if(!s.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,o)}o+=t.length}return r},s.byteLength=d,s.prototype._isBuffer=!0,s.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},s.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},s.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},s.prototype.toString=function(){let e=this.length;return 0===e?"":0===arguments.length?C(this,0,e):p.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){let t="",n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(e,t,n,r,o){if(q(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;let i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),u=Math.min(i,a),l=this.slice(r,o),c=e.slice(t,n);for(let s=0;s<u;++s)if(l[s]!==c[s]){i=l[s],a=c[s];break}return i<a?-1:a<i?1:0},s.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},s.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},s.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}let o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return v(this,e,t,n);case"ascii":case"latin1":case"binary":return w(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function k(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function x(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function O(e,t,n){let r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let o="";for(let i=t;i<n;++i)o+=Y[e[i]];return o}function I(e,t,n){let r=e.slice(t,n),o="";for(let i=0;i<r.length-1;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function P(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function B(e,t,n,r,o,i){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function D(e,t,n,r,o){U(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,n}function N(e,t,n,r,o){U(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=s,s>>=8,e[n+2]=s,s>>=8,e[n+1]=s,s>>=8,e[n]=s,n+8}function F(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function _(e,t,r,o,i){return t=+t,r>>>=0,i||F(e,0,r,4),n.write(e,t,r,o,23,4),r+4}function L(e,t,r,o,i){return t=+t,r>>>=0,i||F(e,0,r,8),n.write(e,t,r,o,52,8),r+8}s.prototype.slice=function(e,t){let n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);let r=this.subarray(e,t);return Object.setPrototypeOf(r,s.prototype),r},s.prototype.readUintLE=s.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return r},s.prototype.readUintBE=s.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);let r=this[e+--t],o=1;for(;t>0&&(o*=256);)r+=this[e+--t]*o;return r},s.prototype.readUint8=s.prototype.readUInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),this[e]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readBigUInt64LE=Z((function(e){H(e>>>=0,"offset");let t=this[e],n=this[e+7];(void 0===t||void 0===n)&&z(e,this.length-8);let r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))})),s.prototype.readBigUInt64BE=Z((function(e){H(e>>>=0,"offset");let t=this[e],n=this[e+7];(void 0===t||void 0===n)&&z(e,this.length-8);let r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),s.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},s.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);let r=t,o=1,i=this[e+--r];for(;r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},s.prototype.readInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||P(e,2,this.length);let n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(e,t){e>>>=0,t||P(e,2,this.length);let n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readBigInt64LE=Z((function(e){H(e>>>=0,"offset");let t=this[e],n=this[e+7];(void 0===t||void 0===n)&&z(e,this.length-8);let r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),s.prototype.readBigInt64BE=Z((function(e){H(e>>>=0,"offset");let t=this[e],n=this[e+7];(void 0===t||void 0===n)&&z(e,this.length-8);let r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),s.prototype.readFloatLE=function(e,t){return e>>>=0,t||P(e,4,this.length),n.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||P(e,4,this.length),n.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||P(e,8,this.length),n.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||P(e,8,this.length),n.read(this,e,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){B(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){B(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},s.prototype.writeUint8=s.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigUInt64LE=Z((function(e,t=0){return D(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),s.prototype.writeBigUInt64BE=Z((function(e,t=0){return N(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),s.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){let r=Math.pow(2,8*n-1);B(this,e,t,n,r-1,-r)}let o=0,i=1,s=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/i|0)-s&255;return t+n},s.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){let r=Math.pow(2,8*n-1);B(this,e,t,n,r-1,-r)}let o=n-1,i=1,s=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/i|0)-s&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigInt64LE=Z((function(e,t=0){return D(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),s.prototype.writeBigInt64BE=Z((function(e,t=0){return N(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),s.prototype.writeFloatLE=function(e,t,n){return _(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return _(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,r){if(!s.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!r&&0!==r&&(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n||0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);let o=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},s.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){let t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{let i=s.isBuffer(e)?e:s.from(e,r),a=i.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=i[o%a]}return this};var R={};function j(e,t,n){R[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function M(e){let t="",n=e.length,r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function U(e,t,n,r,o,i){if(e>n||e<t){let r,o="bigint"==typeof t?"n":"";throw r=i>3?0===t||t===BigInt(0)?`>= 0${o} and < 2${o} ** ${8*(i+1)}${o}`:`>= -(2${o} ** ${8*(i+1)-1}${o}) and < 2 ** ${8*(i+1)-1}${o}`:`>= ${t}${o} and <= ${n}${o}`,new R.ERR_OUT_OF_RANGE("value",r,e)}!function(e,t,n){H(t,"offset"),(void 0===e[t]||void 0===e[t+n])&&z(t,e.length-(n+1))}(r,o,i)}function H(e,t){if("number"!=typeof e)throw new R.ERR_INVALID_ARG_TYPE(t,"number",e)}function z(e,t,n){throw Math.floor(e)!==e?(H(e,n),new R.ERR_OUT_OF_RANGE(n||"offset","an integer",e)):t<0?new R.ERR_BUFFER_OUT_OF_BOUNDS:new R.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}j("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),j("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),j("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=M(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=M(o)),o+="n"),r+=` It must be ${t}. Received ${o}`,r}),RangeError);var V=/[^+/0-9A-Za-z-_]/g;function $(e,t){t=t||1/0;let n,r=e.length,o=null,i=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function G(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function W(e,t,n,r){let o;for(o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function q(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function K(e){return e!==e}var Y=function(){let e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){let r=16*n;for(let o=0;o<16;++o)t[r+o]=e[n]+e[o]}return t}();function Z(e){return typeof BigInt>"u"?J:e}function J(){throw new Error("BigInt not supported")}})),Fe=Oe((()=>{})),_e=Oe((e=>{var t=e,{Buffer:n}=Ne(),r=Fe();t.toBuffer=function(e,t,r){let o;if(r=~~r,this.isV4Format(e))o=t||n.alloc(r+4),e.split(/\./g).map((e=>{o[r++]=255&parseInt(e,10)}));else if(this.isV6Format(e)){let i,s=e.split(":",8);for(i=0;i<s.length;i++){let e;this.isV4Format(s[i])&&(e=this.toBuffer(s[i]),s[i]=e.slice(0,2).toString("hex")),e&&++i<8&&s.splice(i,0,e.slice(2,4).toString("hex"))}if(""===s[0])for(;s.length<8;)s.unshift("0");else if(""===s[s.length-1])for(;s.length<8;)s.push("0");else if(s.length<8){for(i=0;i<s.length&&""!==s[i];i++);let e=[i,1];for(i=9-s.length;i>0;i--)e.push("0");s.splice(...e)}for(o=t||n.alloc(r+16),i=0;i<s.length;i++){let e=parseInt(s[i],16);o[r++]=e>>8&255,o[r++]=255&e}}if(!o)throw Error(`Invalid ip address: ${e}`);return o},t.toString=function(e,t,n){t=~~t;let r=[];if(4===(n=n||e.length-t)){for(let o=0;o<n;o++)r.push(e[t+o]);r=r.join(".")}else if(16===n){for(let o=0;o<n;o+=2)r.push(e.readUInt16BE(t+o).toString(16));r=r.join(":"),r=r.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3"),r=r.replace(/:{3,4}/,"::")}return r};var o=/^(\d{1,3}\.){3,3}\d{1,3}$/,i=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i;function s(e){return 4===e?"ipv4":6===e?"ipv6":e?e.toLowerCase():"ipv4"}t.isV4Format=function(e){return o.test(e)},t.isV6Format=function(e){return i.test(e)},t.fromPrefixLen=function(e,r){let o=4;"ipv6"===(r=e>32?"ipv6":s(r))&&(o=16);let i=n.alloc(o);for(let t=0,n=i.length;t<n;++t){let n=8;e<8&&(n=e),e-=n,i[t]=255&~(255>>n)}return t.toString(i)},t.mask=function(e,r){e=t.toBuffer(e),r=t.toBuffer(r);let o,i=n.alloc(Math.max(e.length,r.length));if(e.length===r.length)for(o=0;o<e.length;o++)i[o]=e[o]&r[o];else if(4===r.length)for(o=0;o<r.length;o++)i[o]=e[e.length-4+o]&r[o];else{for(o=0;o<i.length-6;o++)i[o]=0;for(i[10]=255,i[11]=255,o=0;o<e.length;o++)i[o+12]=e[o]&r[o+12];o+=12}for(;o<i.length;o++)i[o]=0;return t.toString(i)},t.cidr=function(e){let n=e.split("/"),r=n[0];if(2!==n.length)throw new Error(`invalid CIDR subnet: ${r}`);let o=t.fromPrefixLen(parseInt(n[1],10));return t.mask(r,o)},t.subnet=function(e,n){let r=t.toLong(t.mask(e,n)),o=t.toBuffer(n),i=0;for(let t=0;t<o.length;t++)if(255===o[t])i+=8;else{let e=255&o[t];for(;e;)e=e<<1&255,i++}let s=2**(32-i);return{networkAddress:t.fromLong(r),firstAddress:s<=2?t.fromLong(r):t.fromLong(r+1),lastAddress:s<=2?t.fromLong(r+s-1):t.fromLong(r+s-2),broadcastAddress:t.fromLong(r+s-1),subnetMask:n,subnetMaskLength:i,numHosts:s<=2?s:s-2,length:s,contains:e=>r===t.toLong(t.mask(e,n))}},t.cidrSubnet=function(e){let n=e.split("/"),r=n[0];if(2!==n.length)throw new Error(`invalid CIDR subnet: ${r}`);let o=t.fromPrefixLen(parseInt(n[1],10));return t.subnet(r,o)},t.not=function(e){let n=t.toBuffer(e);for(let t=0;t<n.length;t++)n[t]=255^n[t];return t.toString(n)},t.or=function(e,n){if(e=t.toBuffer(e),n=t.toBuffer(n),e.length===n.length){for(let t=0;t<e.length;++t)e[t]|=n[t];return t.toString(e)}let r=e,o=n;n.length>e.length&&(r=n,o=e);let i=r.length-o.length;for(let t=i;t<r.length;++t)r[t]|=o[t-i];return t.toString(r)},t.isEqual=function(e,n){if(e=t.toBuffer(e),n=t.toBuffer(n),e.length===n.length){for(let t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0}if(4===n.length){let t=n;n=e,e=t}for(let t=0;t<10;t++)if(0!==n[t])return!1;let r=n.readUInt16BE(10);if(0!==r&&65535!==r)return!1;for(let t=0;t<4;t++)if(e[t]!==n[t+12])return!1;return!0},t.isPrivate=function(e){if(t.isLoopback(e))return!0;if(!t.isV6Format(e)){let n=t.normalizeToLong(e);if(n<0)throw new Error("invalid ipv4 address");e=t.fromLong(n)}return/^(::f{4}:)?10\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^(::f{4}:)?192\.168\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^(::f{4}:)?172\.(1[6-9]|2\d|30|31)\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^(::f{4}:)?169\.254\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^f[cd][0-9a-f]{2}:/i.test(e)||/^fe80:/i.test(e)||/^::1$/.test(e)||/^::$/.test(e)},t.isPublic=function(e){return!t.isPrivate(e)},t.isLoopback=function(e){return!/\./.test(e)&&!/:/.test(e)&&(e=t.fromLong(Number(e))),/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})/.test(e)||/^0177\./.test(e)||/^0x7f\./i.test(e)||/^fe80::1$/i.test(e)||/^::1$/.test(e)||/^::$/.test(e)},t.loopback=function(e){if("ipv4"!==(e=s(e))&&"ipv6"!==e)throw new Error("family must be ipv4 or ipv6");return"ipv4"===e?"127.0.0.1":"fe80::1"},t.address=function(e,n){let o=r.networkInterfaces();if(n=s(n),e&&"private"!==e&&"public"!==e){let t=o[e].filter((e=>s(e.family)===n));return 0===t.length?void 0:t[0].address}let i=Object.keys(o).map((r=>{let i=o[r].filter((r=>(r.family=s(r.family),r.family===n&&!t.isLoopback(r.address)&&(!e||("public"===e?t.isPrivate(r.address):t.isPublic(r.address))))));return i.length?i[0].address:void 0})).filter(Boolean);return i.length?i[0]:t.loopback(n)},t.toLong=function(e){let t=0;return e.split(".").forEach((e=>{t<<=8,t+=parseInt(e)})),t>>>0},t.fromLong=function(e){return`${e>>>24}.${e>>16&255}.${e>>8&255}.${255&e}`},t.normalizeToLong=function(e){let t=e.split(".").map((e=>e.startsWith("0x")||e.startsWith("0X")?parseInt(e,16):e.startsWith("0")&&"0"!==e&&/^[0-7]+$/.test(e)?parseInt(e,8):/^[1-9]\d*$/.test(e)||"0"===e?parseInt(e,10):NaN));if(t.some(isNaN))return-1;let n=0;switch(t.length){case 1:n=t[0];break;case 2:if(t[0]>255||t[1]>16777215)return-1;n=t[0]<<24|16777215&t[1];break;case 3:if(t[0]>255||t[1]>255||t[2]>65535)return-1;n=t[0]<<24|t[1]<<16|65535&t[2];break;case 4:if(t.some((e=>e>255)))return-1;n=t[0]<<24|t[1]<<16|t[2]<<8|t[3];break;default:return-1}return n>>>0}})),Le=["string","number","bigint","symbol"],Re=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function je(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!0===e||!1===e)return"boolean";let t=typeof e;if(Le.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(e))return"Array";if(function(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}(e))return"Buffer";let n=function(e){let t=Object.prototype.toString.call(e).slice(8,-1);if(Re.includes(t))return t}(e);return n||"Object"}var Me=class{constructor(e,t,n){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}};Me.uint=new Me(0,"uint",!0),Me.negint=new Me(1,"negint",!0),Me.bytes=new Me(2,"bytes",!0),Me.string=new Me(3,"string",!0),Me.array=new Me(4,"array",!1),Me.map=new Me(5,"map",!1),Me.tag=new Me(6,"tag",!1),Me.float=new Me(7,"float",!0),Me.false=new Me(7,"false",!0),Me.true=new Me(7,"true",!0),Me.null=new Me(7,"null",!0),Me.undefined=new Me(7,"undefined",!0),Me.break=new Me(7,"break",!0);var Ue=class{constructor(e,t,n){this.type=e,this.value=t,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}},He=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"==typeof globalThis.Buffer.isBuffer,ze=new TextDecoder,Ve=new TextEncoder;function $e(e){return He&&globalThis.Buffer.isBuffer(e)}var Ge=He?(e,t,n)=>n-t>64?globalThis.Buffer.from(e.subarray(t,n)).toString("utf8"):Je(e,t,n):(e,t,n)=>n-t>64?ze.decode(e.subarray(t,n)):Je(e,t,n),We=He?e=>e.length>64?globalThis.Buffer.from(e):Ze(e):e=>e.length>64?Ve.encode(e):Ze(e),qe=He?(e,t,n)=>$e(e)?new Uint8Array(e.subarray(t,n)):e.slice(t,n):(e,t,n)=>e.slice(t,n),Ke=He?(e,t)=>(e=e.map((e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e))),function(e){return e instanceof Uint8Array?$e(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}(globalThis.Buffer.concat(e,t))):(e,t)=>{let n=new Uint8Array(t),r=0;for(let o of e)r+o.length>n.length&&(o=o.subarray(0,n.length-r)),n.set(o,r),r+=o.length;return n},Ye=He?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function Ze(e){let t=[],n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296===(64512&o)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t}function Je(e,t,n){let r=[];for(;t<n;){let o=e[t],i=null,s=o>239?4:o>223?3:o>191?2:1;if(t+s<=n){let n,r,a,u;switch(s){case 1:o<128&&(i=o);break;case 2:n=e[t+1],128===(192&n)&&(u=(31&o)<<6|63&n,u>127&&(i=u));break;case 3:n=e[t+1],r=e[t+2],128===(192&n)&&128===(192&r)&&(u=(15&o)<<12|(63&n)<<6|63&r,u>2047&&(u<55296||u>57343)&&(i=u));break;case 4:n=e[t+1],r=e[t+2],a=e[t+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(u=(15&o)<<18|(63&n)<<12|(63&r)<<6|63&a,u>65535&&u<1114112&&(i=u))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),t+=s}return function(e){let t=e.length;if(t<=Xe)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=Xe));return n}(r)}var Xe=4096;var Qe="CBOR decode error:",et="CBOR encode error:",tt=[];function nt(e,t,n){if(e.length-t<n)throw new Error(`${Qe} not enough data for type`)}tt[23]=1,tt[24]=2,tt[25]=3,tt[26]=5,tt[27]=9;var rt=[24,256,65536,4294967296,BigInt("18446744073709551616")];function ot(e,t,n){nt(e,t,1);let r=e[t];if(!0===n.strict&&r<rt[0])throw new Error(`${Qe} integer encoded in more bytes than necessary (strict decode)`);return r}function it(e,t,n){nt(e,t,2);let r=e[t]<<8|e[t+1];if(!0===n.strict&&r<rt[1])throw new Error(`${Qe} integer encoded in more bytes than necessary (strict decode)`);return r}function st(e,t,n){nt(e,t,4);let r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(!0===n.strict&&r<rt[2])throw new Error(`${Qe} integer encoded in more bytes than necessary (strict decode)`);return r}function at(e,t,n){nt(e,t,8);let r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],o=16777216*e[t+4]+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],i=(BigInt(r)<<BigInt(32))+BigInt(o);if(!0===n.strict&&i<rt[3])throw new Error(`${Qe} integer encoded in more bytes than necessary (strict decode)`);if(i<=Number.MAX_SAFE_INTEGER)return Number(i);if(!0===n.allowBigInt)return i;throw new Error(`${Qe} integers outside of the safe integer range are not supported`)}function ut(e,t){return lt(e,0,t.value)}function lt(e,t,n){if(n<rt[0]){let r=Number(n);e.push([t|r])}else if(n<rt[1]){let r=Number(n);e.push([24|t,r])}else if(n<rt[2]){let r=Number(n);e.push([25|t,r>>>8,255&r])}else if(n<rt[3]){let r=Number(n);e.push([26|t,r>>>24&255,r>>>16&255,r>>>8&255,255&r])}else{let r=BigInt(n);if(!(r<rt[4]))throw new Error(`${Qe} encountered BigInt larger than allowable range`);{let n=[27|t,0,0,0,0,0,0,0],o=Number(r&BigInt(4294967295)),i=Number(r>>BigInt(32)&BigInt(4294967295));n[8]=255&o,o>>=8,n[7]=255&o,o>>=8,n[6]=255&o,o>>=8,n[5]=255&o,n[4]=255&i,i>>=8,n[3]=255&i,i>>=8,n[2]=255&i,i>>=8,n[1]=255&i,e.push(n)}}}ut.encodedSize=function(e){return lt.encodedSize(e.value)},lt.encodedSize=function(e){return e<rt[0]?1:e<rt[1]?2:e<rt[2]?3:e<rt[3]?5:9},ut.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};var ct=BigInt(-1),ft=BigInt(1);function ht(e,t){let n=t.value,r="bigint"==typeof n?n*ct-ft:-1*n-1;lt(e,t.type.majorEncoded,r)}function dt(e,t,n,r){nt(e,t,n+r);let o=qe(e,t+n,t+n+r);return new Ue(Me.bytes,o,n+r)}function pt(e,t,n,r){return dt(e,t,1,n)}function gt(e){return void 0===e.encodedBytes&&(e.encodedBytes=e.type===Me.string?We(e.value):e.value),e.encodedBytes}function yt(e,t){let n=gt(t);lt(e,t.type.majorEncoded,n.length),e.push(n)}function mt(e,t,n,r,o){let i=n+r;nt(e,t,i);let s=new Ue(Me.string,Ge(e,t+n,t+i),i);return!0===o.retainStringBytes&&(s.byteValue=qe(e,t+n,t+i)),s}function bt(e,t,n,r){return mt(e,t,1,n,r)}ht.encodedSize=function(e){let t=e.value,n="bigint"==typeof t?t*ct-ft:-1*t-1;return n<rt[0]?1:n<rt[1]?2:n<rt[2]?3:n<rt[3]?5:9},ht.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0},yt.encodedSize=function(e){let t=gt(e);return lt.encodedSize(t.length)+t.length},yt.compareTokens=function(e,t){return function(e,t){return e.length<t.length?-1:e.length>t.length?1:function(e,t){if($e(e)&&$e(t))return e.compare(t);for(let n=0;n<e.length;n++)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return 0}(e,t)}(gt(e),gt(t))};var vt=yt;function wt(e,t,n,r){return new Ue(Me.array,r,n)}function Et(e,t,n,r){return wt(0,0,1,n)}function At(e,t){lt(e,Me.array.majorEncoded,t.value)}function St(e,t,n,r){return new Ue(Me.map,r,n)}function Ct(e,t,n,r){return St(0,0,1,n)}function Tt(e,t){lt(e,Me.map.majorEncoded,t.value)}function kt(e,t,n,r){return new Ue(Me.tag,n,1)}function xt(e,t){lt(e,Me.tag.majorEncoded,t.value)}At.compareTokens=ut.compareTokens,At.encodedSize=function(e){return lt.encodedSize(e.value)},Tt.compareTokens=ut.compareTokens,Tt.encodedSize=function(e){return lt.encodedSize(e.value)},xt.compareTokens=ut.compareTokens,xt.encodedSize=function(e){return lt.encodedSize(e.value)};function Ot(e,t,n){if(n){if(!1===n.allowNaN&&Number.isNaN(e))throw new Error(`${Qe} NaN values are not supported`);if(!1===n.allowInfinity&&(e===1/0||e===-1/0))throw new Error(`${Qe} Infinity values are not supported`)}return new Ue(Me.float,e,t)}function It(e,t,n){let r=t.value;if(!1===r)e.push([20|Me.float.majorEncoded]);else if(!0===r)e.push([21|Me.float.majorEncoded]);else if(null===r)e.push([22|Me.float.majorEncoded]);else if(void 0===r)e.push([23|Me.float.majorEncoded]);else{let t,o=!1;(!n||!0!==n.float64)&&(Nt(r),t=Ft(Dt,1),r===t||Number.isNaN(r)?(Dt[0]=249,e.push(Dt.slice(0,3)),o=!0):(_t(r),t=Lt(Dt,1),r===t&&(Dt[0]=250,e.push(Dt.slice(0,5)),o=!0))),o||(function(e){Bt.setFloat64(0,e,!1)}(r),t=Rt(Dt,1),Dt[0]=251,e.push(Dt.slice(0,9)))}}It.encodedSize=function(e,t){let n=e.value;if(!1===n||!0===n||null===n||void 0===n)return 1;if(!t||!0!==t.float64){Nt(n);let e=Ft(Dt,1);if(n===e||Number.isNaN(n))return 3;if(_t(n),e=Lt(Dt,1),n===e)return 5}return 9};var Pt=new ArrayBuffer(9),Bt=new DataView(Pt,1),Dt=new Uint8Array(Pt,0);function Nt(e){if(e===1/0)Bt.setUint16(0,31744,!1);else if(e===-1/0)Bt.setUint16(0,64512,!1);else if(Number.isNaN(e))Bt.setUint16(0,32256,!1);else{Bt.setFloat32(0,e);let t=Bt.getUint32(0),n=(2139095040&t)>>23,r=8388607&t;if(255===n)Bt.setUint16(0,31744,!1);else if(0===n)Bt.setUint16(0,(2147483648&e)>>16|r>>13,!1);else{let e=n-127;e<-24?Bt.setUint16(0,0):e<-14?Bt.setUint16(0,(2147483648&t)>>16|1<<24+e,!1):Bt.setUint16(0,(2147483648&t)>>16|e+15<<10|r>>13,!1)}}}function Ft(e,t){if(e.length-t<2)throw new Error(`${Qe} not enough data for float16`);let n=(e[t]<<8)+e[t+1];if(31744===n)return 1/0;if(64512===n)return-1/0;if(32256===n)return NaN;let r,o=n>>10&31,i=1023&n;return r=0===o?i*2**-24:31!==o?(i+1024)*2**(o-25):0===i?1/0:NaN,32768&n?-r:r}function _t(e){Bt.setFloat32(0,e,!1)}function Lt(e,t){if(e.length-t<4)throw new Error(`${Qe} not enough data for float32`);let n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,4).getFloat32(0,!1)}function Rt(e,t){if(e.length-t<8)throw new Error(`${Qe} not enough data for float64`);let n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,8).getFloat64(0,!1)}function jt(e,t,n){throw new Error(`${Qe} encountered invalid minor (${n}) for major ${e[t]>>>5}`)}function Mt(e){return()=>{throw new Error(`${Qe} ${e}`)}}It.compareTokens=ut.compareTokens;var Ut=[];for(let n=0;n<=23;n++)Ut[n]=jt;Ut[24]=function(e,t,n,r){return new Ue(Me.uint,ot(e,t+1,r),2)},Ut[25]=function(e,t,n,r){return new Ue(Me.uint,it(e,t+1,r),3)},Ut[26]=function(e,t,n,r){return new Ue(Me.uint,st(e,t+1,r),5)},Ut[27]=function(e,t,n,r){return new Ue(Me.uint,at(e,t+1,r),9)},Ut[28]=jt,Ut[29]=jt,Ut[30]=jt,Ut[31]=jt;for(let n=32;n<=55;n++)Ut[n]=jt;Ut[56]=function(e,t,n,r){return new Ue(Me.negint,-1-ot(e,t+1,r),2)},Ut[57]=function(e,t,n,r){return new Ue(Me.negint,-1-it(e,t+1,r),3)},Ut[58]=function(e,t,n,r){return new Ue(Me.negint,-1-st(e,t+1,r),5)},Ut[59]=function(e,t,n,r){let o=at(e,t+1,r);if("bigint"!=typeof o){let e=-1-o;if(e>=Number.MIN_SAFE_INTEGER)return new Ue(Me.negint,e,9)}if(!0!==r.allowBigInt)throw new Error(`${Qe} integers outside of the safe integer range are not supported`);return new Ue(Me.negint,ct-BigInt(o),9)},Ut[60]=jt,Ut[61]=jt,Ut[62]=jt,Ut[63]=jt;for(let n=64;n<=87;n++)Ut[n]=pt;Ut[88]=function(e,t,n,r){return dt(e,t,2,ot(e,t+1,r))},Ut[89]=function(e,t,n,r){return dt(e,t,3,it(e,t+1,r))},Ut[90]=function(e,t,n,r){return dt(e,t,5,st(e,t+1,r))},Ut[91]=function(e,t,n,r){let o=at(e,t+1,r);if("bigint"==typeof o)throw new Error(`${Qe} 64-bit integer bytes lengths not supported`);return dt(e,t,9,o)},Ut[92]=jt,Ut[93]=jt,Ut[94]=jt,Ut[95]=Mt("indefinite length bytes/strings are not supported");for(let n=96;n<=119;n++)Ut[n]=bt;Ut[120]=function(e,t,n,r){return mt(e,t,2,ot(e,t+1,r),r)},Ut[121]=function(e,t,n,r){return mt(e,t,3,it(e,t+1,r),r)},Ut[122]=function(e,t,n,r){return mt(e,t,5,st(e,t+1,r),r)},Ut[123]=function(e,t,n,r){let o=at(e,t+1,r);if("bigint"==typeof o)throw new Error(`${Qe} 64-bit integer string lengths not supported`);return mt(e,t,9,o,r)},Ut[124]=jt,Ut[125]=jt,Ut[126]=jt,Ut[127]=Mt("indefinite length bytes/strings are not supported");for(let n=128;n<=151;n++)Ut[n]=Et;Ut[152]=function(e,t,n,r){return wt(0,0,2,ot(e,t+1,r))},Ut[153]=function(e,t,n,r){return wt(0,0,3,it(e,t+1,r))},Ut[154]=function(e,t,n,r){return wt(0,0,5,st(e,t+1,r))},Ut[155]=function(e,t,n,r){let o=at(e,t+1,r);if("bigint"==typeof o)throw new Error(`${Qe} 64-bit integer array lengths not supported`);return wt(0,0,9,o)},Ut[156]=jt,Ut[157]=jt,Ut[158]=jt,Ut[159]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error(`${Qe} indefinite length items not allowed`);return wt(0,0,1,1/0)};for(let n=160;n<=183;n++)Ut[n]=Ct;Ut[184]=function(e,t,n,r){return St(0,0,2,ot(e,t+1,r))},Ut[185]=function(e,t,n,r){return St(0,0,3,it(e,t+1,r))},Ut[186]=function(e,t,n,r){return St(0,0,5,st(e,t+1,r))},Ut[187]=function(e,t,n,r){let o=at(e,t+1,r);if("bigint"==typeof o)throw new Error(`${Qe} 64-bit integer map lengths not supported`);return St(0,0,9,o)},Ut[188]=jt,Ut[189]=jt,Ut[190]=jt,Ut[191]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error(`${Qe} indefinite length items not allowed`);return St(0,0,1,1/0)};for(let n=192;n<=215;n++)Ut[n]=kt;Ut[216]=function(e,t,n,r){return new Ue(Me.tag,ot(e,t+1,r),2)},Ut[217]=function(e,t,n,r){return new Ue(Me.tag,it(e,t+1,r),3)},Ut[218]=function(e,t,n,r){return new Ue(Me.tag,st(e,t+1,r),5)},Ut[219]=function(e,t,n,r){return new Ue(Me.tag,at(e,t+1,r),9)},Ut[220]=jt,Ut[221]=jt,Ut[222]=jt,Ut[223]=jt;for(let n=224;n<=243;n++)Ut[n]=Mt("simple values are not supported");Ut[244]=jt,Ut[245]=jt,Ut[246]=jt,Ut[247]=function(e,t,n,r){if(!1===r.allowUndefined)throw new Error(`${Qe} undefined values are not supported`);return!0===r.coerceUndefinedToNull?new Ue(Me.null,null,1):new Ue(Me.undefined,void 0,1)},Ut[248]=Mt("simple values are not supported"),Ut[249]=function(e,t,n,r){return Ot(Ft(e,t+1),3,r)},Ut[250]=function(e,t,n,r){return Ot(Lt(e,t+1),5,r)},Ut[251]=function(e,t,n,r){return Ot(Rt(e,t+1),9,r)},Ut[252]=jt,Ut[253]=jt,Ut[254]=jt,Ut[255]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error(`${Qe} indefinite length items not allowed`);return new Ue(Me.break,void 0,1)};var Ht=[];for(let n=0;n<24;n++)Ht[n]=new Ue(Me.uint,n,1);for(let n=-1;n>=-24;n--)Ht[31-n]=new Ue(Me.negint,n,1);Ht[64]=new Ue(Me.bytes,new Uint8Array(0),1),Ht[96]=new Ue(Me.string,"",1),Ht[128]=new Ue(Me.array,0,1),Ht[160]=new Ue(Me.map,0,1),Ht[244]=new Ue(Me.false,!1,1),Ht[245]=new Ue(Me.true,!0,1),Ht[246]=new Ue(Me.null,null,1);(function(){let e=[];e[Me.uint.major]=ut,e[Me.negint.major]=ht,e[Me.bytes.major]=yt,e[Me.string.major]=vt,e[Me.array.major]=At,e[Me.map.major]=Tt,e[Me.tag.major]=xt,e[Me.float.major]=It})(),new class{constructor(e=256){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){let n=t.length-(this.maxCursor-this.cursor)-1;t.set(e,n)}else{if(t){let e=t.length-(this.maxCursor-this.cursor)-1;e<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,e),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=Ye(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(1===this.chunks.length){let n=this.chunks[0];e&&this.cursor>n.length/2?(t=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=qe(n,0,this.cursor)}else t=Ke(this.chunks,this.cursor);return e&&this.reset(),t}};var zt=class e{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do{if(t.obj===e)return!0}while(t=t.parent);return!1}static createCheck(t,n){if(t&&t.includes(n))throw new Error(`${et} object contains circular references`);return new e(n,t)}},Vt={null:new Ue(Me.null,null),undefined:new Ue(Me.undefined,void 0),true:new Ue(Me.true,!0),false:new Ue(Me.false,!1),emptyArray:new Ue(Me.array,0),emptyMap:new Ue(Me.map,0)},$t={number:(e,t,n,r)=>Number.isInteger(e)&&Number.isSafeInteger(e)?new Ue(e>=0?Me.uint:Me.negint,e):new Ue(Me.float,e),bigint:(e,t,n,r)=>e>=BigInt(0)?new Ue(Me.uint,e):new Ue(Me.negint,e),Uint8Array:(e,t,n,r)=>new Ue(Me.bytes,e),string:(e,t,n,r)=>new Ue(Me.string,e),boolean:(e,t,n,r)=>e?Vt.true:Vt.false,null:(e,t,n,r)=>Vt.null,undefined:(e,t,n,r)=>Vt.undefined,ArrayBuffer:(e,t,n,r)=>new Ue(Me.bytes,new Uint8Array(e)),DataView:(e,t,n,r)=>new Ue(Me.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,n,r){if(!e.length)return!0===n.addBreakTokens?[Vt.emptyArray,new Ue(Me.break)]:Vt.emptyArray;r=zt.createCheck(r,e);let o=[],i=0;for(let s of e)o[i++]=Gt(s,n,r);return n.addBreakTokens?[new Ue(Me.array,e.length),o,new Ue(Me.break)]:[new Ue(Me.array,e.length),o]},Object(e,t,n,r){let o="Object"!==t,i=o?e.keys():Object.keys(e),s=o?e.size:i.length;if(!s)return!0===n.addBreakTokens?[Vt.emptyMap,new Ue(Me.break)]:Vt.emptyMap;r=zt.createCheck(r,e);let a=[],u=0;for(let l of i)a[u++]=[Gt(l,n,r),Gt(o?e.get(l):e[l],n,r)];return function(e,t){t.mapSorter&&e.sort(t.mapSorter)}(a,n),n.addBreakTokens?[new Ue(Me.map,s),a,new Ue(Me.break)]:[new Ue(Me.map,s),a]}};$t.Map=$t.Object,$t.Buffer=$t.Uint8Array;for(let n of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))$t[`${n}Array`]=$t.DataView;function Gt(e,t={},n){let r=je(e),o=t&&t.typeEncoders&&t.typeEncoders[r]||$t[r];if("function"==typeof o){let i=o(e,r,t,n);if(null!=i)return i}let i=$t[r];if(!i)throw new Error(`${et} unsupported type: ${r}`);return i(e,r,t,n)}var Wt={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0},qt=class{constructor(e,t={}){this._pos=0,this.data=e,this.options=t}pos(){return this._pos}done(){return this._pos>=this.data.length}next(){let e=this.data[this._pos],t=Ht[e];if(void 0===t){let n=Ut[e];if(!n)throw new Error(`${Qe} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);let r=31&e;t=n(this.data,this._pos,r,this.options)}return this._pos+=t.encodedLength,t}},Kt=Symbol.for("DONE"),Yt=Symbol.for("BREAK");function Zt(e,t){if(e.done())return Kt;let n=e.next();if(n.type===Me.break)return Yt;if(n.type.terminal)return n.value;if(n.type===Me.array)return function(e,t,n){let r=[];for(let o=0;o<e.value;o++){let i=Zt(t,n);if(i===Yt){if(e.value===1/0)break;throw new Error(`${Qe} got unexpected break to lengthed array`)}if(i===Kt)throw new Error(`${Qe} found array but not enough entries (got ${o}, expected ${e.value})`);r[o]=i}return r}(n,e,t);if(n.type===Me.map)return function(e,t,n){let r=!0===n.useMaps,o=r?void 0:{},i=r?new Map:void 0;for(let s=0;s<e.value;s++){let a=Zt(t,n);if(a===Yt){if(e.value===1/0)break;throw new Error(`${Qe} got unexpected break to lengthed map`)}if(a===Kt)throw new Error(`${Qe} found map but not enough entries (got ${s} [no key], expected ${e.value})`);if(!0!==r&&"string"!=typeof a)throw new Error(`${Qe} non-string keys not supported (got ${typeof a})`);if(!0===n.rejectDuplicateMapKeys&&(r&&i.has(a)||!r&&a in o))throw new Error(`${Qe} found repeat map key "${a}"`);let u=Zt(t,n);if(u===Kt)throw new Error(`${Qe} found map but not enough entries (got ${s} [no value], expected ${e.value})`);r?i.set(a,u):o[a]=u}return r?i:o}(n,e,t);if(n.type===Me.tag){if(t.tags&&"function"==typeof t.tags[n.value]){let r=Zt(e,t);return t.tags[n.value](r)}throw new Error(`${Qe} tag not supported (${n.value})`)}throw new Error("unsupported")}function Jt(e,t){let[n,r]=function(e,t){if(!(e instanceof Uint8Array))throw new Error(`${Qe} data to decode must be a Uint8Array`);let n=(t=Object.assign({},Wt,t)).tokenizer||new qt(e,t),r=Zt(n,t);if(r===Kt)throw new Error(`${Qe} did not find any content to decode`);if(r===Yt)throw new Error(`${Qe} got unexpected break`);return[r,e.subarray(n.pos())]}(e,t);if(r.length>0)throw new Error(`${Qe} too many terminals, data makes no sense`);return n}new Uint8Array(0);function Xt(e){if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}var Qt=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),s=i.charCodeAt(0);if(255!==n[s])throw new TypeError(i+" is ambiguous");n[s]=o}var a=e.length,u=e.charAt(0),l=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function f(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,o=0;e[t]===u;)r++,t++;for(var i=(e.length-t)*l+1>>>0,s=new Uint8Array(i);e[t];){var c=n[e.charCodeAt(t)];if(255===c)return;for(var f=0,h=i-1;(0!==c||f<o)&&-1!==h;h--,f++)c+=a*s[h]>>>0,s[h]=c%256>>>0,c=c/256>>>0;if(0!==c)throw new Error("Non-zero carry");o=f,t++}if(" "!==e[t]){for(var d=i-o;d!==i&&0===s[d];)d++;for(var p=new Uint8Array(r+(i-d)),g=r;d!==i;)p[g++]=s[d++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,o=0,i=t.length;o!==i&&0===t[o];)o++,n++;for(var s=(i-o)*c+1>>>0,l=new Uint8Array(s);o!==i;){for(var f=t[o],h=0,d=s-1;(0!==f||h<r)&&-1!==d;d--,h++)f+=256*l[d]>>>0,l[d]=f%a>>>0,f=f/a>>>0;if(0!==f)throw new Error("Non-zero carry");r=h,o++}for(var p=s-r;p!==s&&0===l[p];)p++;for(var g=u.repeat(n);p<s;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:f,decode:function(e){var n=f(e);if(n)return n;throw new Error(`Non-${t} character`)}}},en=class{name;prefix;baseEncode;constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},tn=class{name;prefix;baseDecode;prefixCodePoint;constructor(e,t,n){this.name=e,this.prefix=t;let r=t.codePointAt(0);if(void 0===r)throw new Error("Invalid prefix character");this.prefixCodePoint=r,this.baseDecode=n}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return rn(this,e)}},nn=class{decoders;constructor(e){this.decoders=e}or(e){return rn(this,e)}decode(e){let t=e[0],n=this.decoders[t];if(null!=n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};function rn(e,t){return new nn({...e.decoders??{[e.prefix]:e},...t.decoders??{[t.prefix]:t}})}var on=class{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new en(e,t,n),this.decoder=new tn(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};function sn({name:e,prefix:t,encode:n,decode:r}){return new on(e,t,n,r)}function an({name:e,prefix:t,alphabet:n}){let{encode:r,decode:o}=Qt(n,e);return sn({prefix:t,name:e,encode:r,decode:e=>Xt(o(e))})}function un({name:e,prefix:t,bitsPerChar:n,alphabet:r}){return sn({prefix:t,name:e,encode:e=>function(e,t,n){let r="="===t[t.length-1],o=(1<<n)-1,i="",s=0,a=0;for(let u=0;u<e.length;++u)for(a=a<<8|e[u],s+=8;s>n;)s-=n,i+=t[o&a>>s];if(0!==s&&(i+=t[o&a<<n-s]),r)for(;i.length*n&7;)i+="=";return i}(e,r,n),decode:t=>function(e,t,n,r){let o={};for(let c=0;c<t.length;++c)o[t[c]]=c;let i=e.length;for(;"="===e[i-1];)--i;let s=new Uint8Array(i*n/8|0),a=0,u=0,l=0;for(let c=0;c<i;++c){let t=o[e[c]];if(void 0===t)throw new SyntaxError(`Non-${r} character`);u=u<<n|t,a+=n,a>=8&&(a-=8,s[l++]=255&u>>a)}if(a>=n||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return s}(t,r,n,e)})}var ln=un({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),cn=(un({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),un({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),un({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),un({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),un({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),un({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),un({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),un({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),an({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"})),fn=(an({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),an({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"})),hn=(an({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),function e(t,n,r){n=n||[];for(var o=r=r||0;t>=gn;)n[r++]=255&t|dn,t/=128;for(;t&pn;)n[r++]=255&t|dn,t>>>=7;return n[r]=0|t,e.bytes=r-o+1,n}),dn=128,pn=-128,gn=Math.pow(2,31);var yn=function e(t,n){var r,o=0,i=0,s=n=n||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],o+=i<28?(r&bn)<<i:(r&bn)*Math.pow(2,i),i+=7}while(r>=mn);return e.bytes=s-n,o},mn=128,bn=127;var vn=Math.pow(2,7),wn=Math.pow(2,14),En=Math.pow(2,21),An=Math.pow(2,28),Sn=Math.pow(2,35),Cn=Math.pow(2,42),Tn=Math.pow(2,49),kn=Math.pow(2,56),xn=Math.pow(2,63),On={encode:hn,decode:yn,encodingLength:function(e){return e<vn?1:e<wn?2:e<En?3:e<An?4:e<Sn?5:e<Cn?6:e<Tn?7:e<kn?8:e<xn?9:10}};function In(e,t=0){return[On.decode(e,t),On.decode.bytes]}function Pn(e,t,n=0){return On.encode(e,t,n),t}function Bn(e){return On.encodingLength(e)}var Dn=class{code;size;digest;bytes;constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}};function Nn(e,t){let{bytes:n,version:r}=e;return 0===r?function(e,t,n){let{prefix:r}=n;if(r!==fn.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);let o=t.get(r);if(null==o){let o=n.encode(e).slice(1);return t.set(r,o),o}return o}(n,_n(e),t??fn.encoder):function(e,t,n){let{prefix:r}=n,o=t.get(r);if(null==o){let o=n.encode(e);return t.set(r,o),o}return o}(n,_n(e),t??ln.encoder)}var Fn=new WeakMap;function _n(e){let t=Fn.get(e);if(null==t){let t=new Map;return Fn.set(e,t),t}return t}var Ln=class e{code;version;multihash;bytes;"/";constructor(e,t,n,r){this.code=t,this.version=e,this.multihash=n,this.bytes=r,this["/"]=r}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:t,multihash:n}=this;if(t!==Rn)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==jn)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return e.createV0(n)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:t,digest:n}=this.multihash,r=function(e,t){let n=t.byteLength,r=Bn(e),o=r+Bn(n),i=new Uint8Array(o+n);return Pn(e,i,0),Pn(n,i,r),i.set(t,o),new Dn(e,n,t,i)}(t,n);return e.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return e.equals(this,t)}static equals(e,t){let n=t;return null!=n&&e.code===n.code&&e.version===n.version&&function(e,t){if(e===t)return!0;{let n=t;return e.code===n.code&&e.size===n.size&&n.bytes instanceof Uint8Array&&function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}(e.bytes,n.bytes)}}(e.multihash,n.multihash)}toString(e){return Nn(this,e)}toJSON(){return{"/":Nn(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(null==t)return null;let n=t;if(n instanceof e)return n;if(null!=n["/"]&&n["/"]===n.bytes||n.asCID===n){let{version:t,code:r,multihash:o,bytes:i}=n;return new e(t,r,o,i??Mn(t,r,o.bytes))}if(!0===n[Un]){let{version:t,multihash:r,code:o}=n,i=function(e){let t=Xt(e),[n,r]=In(t),[o,i]=In(t.subarray(r)),s=t.subarray(r+i);if(s.byteLength!==o)throw new Error("Incorrect length");return new Dn(n,o,s,t)}(r);return e.create(t,o,i)}return null}static create(t,n,r){if("number"!=typeof n)throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:if(n!==Rn)throw new Error(`Version 0 CID must use dag-pb (code: ${Rn}) block encoding`);return new e(t,n,r,r.bytes);case 1:{let o=Mn(t,n,r.bytes);return new e(t,n,r,o)}default:throw new Error("Invalid version")}}static createV0(t){return e.create(0,Rn,t)}static createV1(t,n){return e.create(1,t,n)}static decode(t){let[n,r]=e.decodeFirst(t);if(0!==r.length)throw new Error("Incorrect length");return n}static decodeFirst(t){let n=e.inspectBytes(t),r=n.size-n.multihashSize,o=Xt(t.subarray(r,r+n.multihashSize));if(o.byteLength!==n.multihashSize)throw new Error("Incorrect length");let i=o.subarray(n.multihashSize-n.digestSize),s=new Dn(n.multihashCode,n.digestSize,i,o);return[0===n.version?e.createV0(s):e.createV1(n.codec,s),t.subarray(n.size)]}static inspectBytes(e){let t=0,n=()=>{let[n,r]=In(e.subarray(t));return t+=r,n},r=n(),o=Rn;if(18===r?(r=0,t=0):o=n(),0!==r&&1!==r)throw new RangeError(`Invalid CID version ${r}`);let i=t,s=n(),a=n(),u=t+a;return{version:r,codec:o,multihashCode:s,digestSize:a,multihashSize:u-i,size:u}}static parse(t,n){let[r,o]=function(e,t){switch(e[0]){case"Q":{let n=t??fn;return[fn.prefix,n.decode(`${fn.prefix}${e}`)]}case fn.prefix:{let n=t??fn;return[fn.prefix,n.decode(e)]}case ln.prefix:{let n=t??ln;return[ln.prefix,n.decode(e)]}case cn.prefix:{let n=t??cn;return[cn.prefix,n.decode(e)]}default:if(null==t)throw Error("To parse non base32, base36 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}(t,n),i=e.decode(o);if(0===i.version&&"Q"!==t[0])throw Error("Version 0 CID string must not include multibase prefix");return _n(i).set(r,t),i}};var Rn=112,jn=18;function Mn(e,t,n){let r=Bn(e),o=r+Bn(t),i=new Uint8Array(o+n.byteLength);return Pn(e,i,0),Pn(t,i,r),i.set(n,o),i}var Un=Symbol.for("@ipld/js-cid/CID");var Hn={float64:!0,typeEncoders:{Object:function(e){if(e.asCID!==e&&e["/"]!==e.bytes)return null;let t=Ln.asCID(e);if(!t)return null;let n=new Uint8Array(t.bytes.byteLength+1);return n.set(t.bytes,1),[new Ue(Me.tag,42),new Ue(Me.bytes,n)]},undefined:function(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}};var zn={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};zn.tags[42]=function(e){if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return Ln.decode(e.subarray(1))};zn.tags.slice();var Vn=e=>Jt(function(e){return e instanceof ArrayBuffer?new Uint8Array(e,0,e.byteLength):e}(e),zn),$n=Ie(Pe(),1),Gn=Ie(_e(),1),Wn=(e,t,n,r)=>{if("length"===n||"prototype"===n||"arguments"===n||"caller"===n)return;let o=Object.getOwnPropertyDescriptor(e,n),i=Object.getOwnPropertyDescriptor(t,n);!qn(o,i)&&r||Object.defineProperty(e,n,i)},qn=function(e,t){return void 0===e||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},Kn=(e,t)=>`/* Wrapped ${e}*/\n${t}`,Yn=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),Zn=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name");function Jn(e,t,{ignoreNonConfigurable:n=!1}={}){let{name:r}=e;for(let o of Reflect.ownKeys(t))Wn(e,t,o,n);return((e,t)=>{let n=Object.getPrototypeOf(t);n!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,n)})(e,t),((e,t,n)=>{let r=""===n?"":`with ${n.trim()}() `,o=Kn.bind(null,r,t.toString());Object.defineProperty(o,"name",Zn),Object.defineProperty(e,"toString",{...Yn,value:o})})(e,t,r),e}var Xn=new WeakMap;var Qn=Ln.parse("bafyreibm6gpmdrbbf27x4b473fenradnlc3zcussd3vfjy4nv7ta3uuyge"),er=["https://trustless-gateway.link","https://ipfs.io","https://dweb.link"];async function tr(e,t,n=1){try{let n=await async function(e,t){if("function"==typeof e)return e(t);if("function"==typeof e?.block?.get)return e.block.get(t);let n=Array.isArray(e)?e:[e];for(let o of n){let e=new URL(o);e.pathname=`/ipfs/${t.toString()}`,e.search="?format=raw";try{let t=await(0,$n.default)(e,{headers:{Accept:"application/vnd.ipld.raw"},cache:"force-cache"});if(!t.ok)throw t;return new Uint8Array(await t.arrayBuffer())}catch(r){throw new Error(`unable to fetch raw block for CID ${t}`,{cause:r})}}}(e,t);return{obj:await Vn(n),block:n}}catch(r){if(n<3)return await tr(e,t,n+1);throw r}}var nr=function(e,{cacheKey:t=([e])=>e,cache:n=new Map}={}){let r=new Map,o=function(...o){let i=t(o);if(r.has(i))return r.get(i);let s=(async()=>{try{if(n&&await n.has(i))return await n.get(i);let t=await e.apply(this,o);try{return t}finally{n&&await n.set(i,t)}}finally{r.delete(i)}})();return r.set(i,s),s};return Jn(o,e,{ignoreNonConfigurable:!0}),Xn.set(o,n),o}((async function(e,t,n){let r,o;try{({obj:r,block:o}=await tr(e,t))}catch(s){throw({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GIT_REV:"c14b38a",REACT_APP_VERSION:"4.9.0"}?.DEBUG||{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GIT_REV:"c14b38a",REACT_APP_VERSION:"4.9.0"}?.TEST)&&console.error(o?`[ipfs-geoip] failed to parse DAG-CBOR behind CID '${t}'`:`[ipfs-geoip] failed to get raw block for CID '${t}'`,s),s}let i=0;if(!("data"in r)){for(;r.mins[i]&&r.mins[i]<=n;)i++;let t=r.links[i-1];if(!t)throw new Error("Failed to lookup node");let o=function(e){return e?Ln.asCID(e):null}(t);if(!o)throw new Error("Failed to lookup node");return nr(e,o,n)}if("data"in r){for(;r.data[i]&&r.data[i].min<=n;)i++;let e=r.data[i-1];if(!e)throw new Error("Failed to lookup leaf node");if(!e.data)throw new Error("Unmapped range");return function(e){return{country_name:e[0],country_code:e[1],region_code:e[2],city:e[3],postal_code:e[4],latitude:e[5],longitude:e[6],planet:"Earth"}}(e.data)}}),{cachePromiseRejection:!1,cacheKey:e=>{let[,t,n]=e;return`${t}.${n}`}});function rr(e=er,t){return nr(e,Qn,Gn.default.toLong(t))}var or=n(37566),ir=n(17283),sr=n.n(ir);class ar extends Error{constructor(e){super(e),this.name="TimeoutError"}}class ur extends Error{constructor(e){super(),this.name="AbortError",this.message=e}}const lr=e=>void 0===globalThis.DOMException?new ur(e):new DOMException(e),cr=e=>{const t=void 0===e.reason?lr("This operation was aborted."):e.reason;return t instanceof Error?t:lr(t)};var fr,hr=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};fr=new WeakMap;const dr=class{constructor(){fr.set(this,[])}enqueue(e,t){const n={priority:(t=(0,or.A)({priority:0},t)).priority,run:e};if(this.size&&hr(this,fr,"f")[this.size-1].priority>=t.priority)return void hr(this,fr,"f").push(n);const r=function(e,t,n){let r=0,o=e.length;for(;o>0;){const i=Math.trunc(o/2);let s=r+i;n(e[s],t)<=0?(r=++s,o-=i+1):o=i}return r}(hr(this,fr,"f"),n,((e,t)=>t.priority-e.priority));hr(this,fr,"f").splice(r,0,n)}dequeue(){const e=hr(this,fr,"f").shift();return null===e||void 0===e?void 0:e.run}filter(e){return hr(this,fr,"f").filter((t=>t.priority===e.priority)).map((e=>e.run))}get size(){return hr(this,fr,"f").length}};var pr,gr,yr,mr,br,vr,wr,Er,Ar,Sr,Cr,Tr,kr,xr,Or,Ir,Pr,Br,Dr,Nr,Fr,_r,Lr,Rr,jr,Mr,Ur=function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},Hr=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class zr extends Error{}class Vr extends(sr()){constructor(e){var t,n,r,o;if(super(),pr.add(this),gr.set(this,void 0),yr.set(this,void 0),mr.set(this,0),br.set(this,void 0),vr.set(this,void 0),wr.set(this,0),Er.set(this,void 0),Ar.set(this,void 0),Sr.set(this,void 0),Cr.set(this,void 0),Tr.set(this,0),kr.set(this,void 0),xr.set(this,void 0),Or.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!("number"===typeof(e=(0,or.A)({carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:dr},e)).intervalCap&&e.intervalCap>=1))throw new TypeError("Expected `intervalCap` to be a number from 1 and up, got `".concat(null!==(n=null===(t=e.intervalCap)||void 0===t?void 0:t.toString())&&void 0!==n?n:"","` (").concat(typeof e.intervalCap,")"));if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError("Expected `interval` to be a finite number >= 0, got `".concat(null!==(o=null===(r=e.interval)||void 0===r?void 0:r.toString())&&void 0!==o?o:"","` (").concat(typeof e.interval,")"));Ur(this,gr,e.carryoverConcurrencyCount,"f"),Ur(this,yr,e.intervalCap===Number.POSITIVE_INFINITY||0===e.interval,"f"),Ur(this,br,e.intervalCap,"f"),Ur(this,vr,e.interval,"f"),Ur(this,Sr,new e.queueClass,"f"),Ur(this,Cr,e.queueClass,"f"),this.concurrency=e.concurrency,this.timeout=e.timeout,Ur(this,Or,!0===e.throwOnTimeout,"f"),Ur(this,xr,!1===e.autoStart,"f")}get concurrency(){return Hr(this,kr,"f")}set concurrency(e){if(!("number"===typeof e&&e>=1))throw new TypeError("Expected `concurrency` to be a number from 1 and up, got `".concat(e,"` (").concat(typeof e,")"));Ur(this,kr,e,"f"),Hr(this,pr,"m",Rr).call(this)}async add(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=(0,or.A)({timeout:this.timeout,throwOnTimeout:Hr(this,Or,"f")},t),new Promise(((n,r)=>{Hr(this,Sr,"f").enqueue((async()=>{var o,i,s;Ur(this,Tr,(i=Hr(this,Tr,"f"),++i),"f"),Ur(this,mr,(s=Hr(this,mr,"f"),++s),"f");try{if(null===(o=t.signal)||void 0===o?void 0:o.aborted)throw new zr("The task was aborted.");let r=e({signal:t.signal});t.timeout&&(r=function(e,t,n,r){let o;const i=new Promise(((i,s)=>{if("number"!==typeof t||1!==Math.sign(t))throw new TypeError("Expected `milliseconds` to be a positive number, got `".concat(t,"`"));if(t!==Number.POSITIVE_INFINITY){if((r=(0,or.A)({customTimers:{setTimeout:setTimeout,clearTimeout:clearTimeout}},r)).signal){const{signal:e}=r;e.aborted&&s(cr(e)),e.addEventListener("abort",(()=>{s(cr(e))}))}o=r.customTimers.setTimeout.call(void 0,(()=>{if("function"===typeof n){try{i(n())}catch(a){s(a)}return}const r="string"===typeof n?n:"Promise timed out after ".concat(t," milliseconds"),o=n instanceof Error?n:new ar(r);"function"===typeof e.cancel&&e.cancel(),s(o)}),t),(async()=>{try{i(await e)}catch(t){s(t)}finally{r.customTimers.clearTimeout.call(void 0,o)}})()}else i(e)}));return i.clear=()=>{clearTimeout(o),o=void 0},i}(Promise.resolve(r),t.timeout)),t.signal&&(r=Promise.race([r,Hr(this,pr,"m",jr).call(this,t.signal)]));const i=await r;n(i),this.emit("completed",i)}catch(a){if(a instanceof ar&&!t.throwOnTimeout)return void n();r(a),this.emit("error",a)}finally{Hr(this,pr,"m",Br).call(this)}}),t),this.emit("add"),Hr(this,pr,"m",Fr).call(this)}))}async addAll(e,t){return Promise.all(e.map((async e=>this.add(e,t))))}start(){return Hr(this,xr,"f")?(Ur(this,xr,!1,"f"),Hr(this,pr,"m",Rr).call(this),this):this}pause(){Ur(this,xr,!0,"f")}clear(){Ur(this,Sr,new(Hr(this,Cr,"f")),"f")}async onEmpty(){0!==Hr(this,Sr,"f").size&&await Hr(this,pr,"m",Mr).call(this,"empty")}async onSizeLessThan(e){Hr(this,Sr,"f").size<e||await Hr(this,pr,"m",Mr).call(this,"next",(()=>Hr(this,Sr,"f").size<e))}async onIdle(){0===Hr(this,Tr,"f")&&0===Hr(this,Sr,"f").size||await Hr(this,pr,"m",Mr).call(this,"idle")}get size(){return Hr(this,Sr,"f").size}sizeBy(e){return Hr(this,Sr,"f").filter(e).length}get pending(){return Hr(this,Tr,"f")}get isPaused(){return Hr(this,xr,"f")}}gr=new WeakMap,yr=new WeakMap,mr=new WeakMap,br=new WeakMap,vr=new WeakMap,wr=new WeakMap,Er=new WeakMap,Ar=new WeakMap,Sr=new WeakMap,Cr=new WeakMap,Tr=new WeakMap,kr=new WeakMap,xr=new WeakMap,Or=new WeakMap,pr=new WeakSet,Ir=function(){return Hr(this,yr,"f")||Hr(this,mr,"f")<Hr(this,br,"f")},Pr=function(){return Hr(this,Tr,"f")<Hr(this,kr,"f")},Br=function(){var e;Ur(this,Tr,(e=Hr(this,Tr,"f"),--e),"f"),Hr(this,pr,"m",Fr).call(this),this.emit("next")},Dr=function(){Hr(this,pr,"m",Lr).call(this),Hr(this,pr,"m",_r).call(this),Ur(this,Ar,void 0,"f")},Nr=function(){const e=Date.now();if(void 0===Hr(this,Er,"f")){const t=Hr(this,wr,"f")-e;if(!(t<0))return void 0===Hr(this,Ar,"f")&&Ur(this,Ar,setTimeout((()=>{Hr(this,pr,"m",Dr).call(this)}),t),"f"),!0;Ur(this,mr,Hr(this,gr,"f")?Hr(this,Tr,"f"):0,"f")}return!1},Fr=function(){if(0===Hr(this,Sr,"f").size)return Hr(this,Er,"f")&&clearInterval(Hr(this,Er,"f")),Ur(this,Er,void 0,"f"),this.emit("empty"),0===Hr(this,Tr,"f")&&this.emit("idle"),!1;if(!Hr(this,xr,"f")){const e=!Hr(this,pr,"a",Nr);if(Hr(this,pr,"a",Ir)&&Hr(this,pr,"a",Pr)){const t=Hr(this,Sr,"f").dequeue();return!!t&&(this.emit("active"),t(),e&&Hr(this,pr,"m",_r).call(this),!0)}}return!1},_r=function(){Hr(this,yr,"f")||void 0!==Hr(this,Er,"f")||(Ur(this,Er,setInterval((()=>{Hr(this,pr,"m",Lr).call(this)}),Hr(this,vr,"f")),"f"),Ur(this,wr,Date.now()+Hr(this,vr,"f"),"f"))},Lr=function(){0===Hr(this,mr,"f")&&0===Hr(this,Tr,"f")&&Hr(this,Er,"f")&&(clearInterval(Hr(this,Er,"f")),Ur(this,Er,void 0,"f")),Ur(this,mr,Hr(this,gr,"f")?Hr(this,Tr,"f"):0,"f"),Hr(this,pr,"m",Rr).call(this)},Rr=function(){for(;Hr(this,pr,"m",Fr).call(this););},jr=async function(e){return new Promise(((t,n)=>{e.addEventListener("abort",(()=>{n(new zr("The task was aborted."))}),{once:!0})}))},Mr=async function(e,t){return new Promise((n=>{const r=()=>{t&&!t()||(this.off(e,r),n())};this.on(e,r)}))};const $r=Vr;var Gr=n(30101),Wr=n.n(Gr),qr=n(97504),Kr=n.n(qr),Yr=n(75649),Zr=n.n(Yr),Jr=n(27463),Xr=n(8330);function Qr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eo(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{El:to}=Xr,no=(0,Jr.n5)("identity"),ro=()=>{const e=no();return null===e||void 0===e?void 0:e.identity},oo=Q().seconds(1),io=to["ipfs-geoip"];const so=e=>4===e[0]&&"127.0.0.1"!==e[1],ao=e=>{if(!e)return null;const{country_name:t,city:n}=e;return n&&t?"".concat(t,", ").concat(n):t},uo=e=>e.protoNames().map((e=>e.startsWith("quic-v")?"quic":e)).join("/"),lo=e=>{if("n/a"===e)return;let t=parseInt(e);return t="s"===/(s|ms)/.exec(e)[0]?1e3*t:t,t},co=Zr()((e=>{if(e)for(const n of e.addresses)try{const e=(0,oe.HZ)(n).nodeAddress();if((Kr().isV4Format(e.address)||Kr().isV6Format(e.address))&&!Kr().isPrivate(e.address))return e.address}catch(t){}})),fo=async(e,t)=>{const n=await co(t);let r,o=!1,i=!1;try{r=e.nodeAddress()}catch(s){return{isPrivate:o,isNearby:i}}return o=Kr().isPrivate(r.address),n&&(Kr().isV4Format(r.address)?i=Kr().cidrSubnet("".concat(n,"/24")).contains(r.address):Kr().isV6Format(r.address)&&(i=Kr().cidrSubnet("".concat(n,"/48")).contains(r.address)&&!Kr().cidrSubnet("fc00::/8").contains(r.address))),{isPrivate:o,isNearby:i}};class ho{constructor(e){this.geoipCache=Ee(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qr(Object(n),!0).forEach((function(t){eo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:"geoipCache",version:io,maxAge:Q().weeks(1)},e.cache)),this.failedAddrs=Wr()(500),this.queue=new $r({concurrency:e.concurrency,autoStart:!0}),this.geoipLookupPromises=new Map,this.pass=0}async findLocations(e,t){const n={};e=(Array.isArray(e)?e:[e]).map((e=>e.replace(/localhost:(\d+)/,"127.0.0.1:$1")));for(const r of this.optimizedPeerSet(t)){const t=r.peer,o=r.addr.stringTuples().find(so);if(!o)continue;const i=o[1];if(this.failedAddrs.has(i))continue;const s=await this.geoipCache.get(i);s?n[t]=s:this.geoipLookupPromises.has(i)||this.geoipLookupPromises.set(i,this.queue.add((async()=>{try{const t=await rr(e,i);await this.geoipCache.set(i,t)}catch(t){this.failedAddrs.set(i,!0)}finally{this.geoipLookupPromises.delete(i)}})))}return n}optimizedPeerSet(e){if(this.pass<3){const t=e=>lo(e.latency)||9999,n=e.concat().sort(((e,n)=>t(e)-t(n)));switch(this.pass=this.pass+1,this.pass-1){case 0:return n.slice(0,10);case 1:return n.slice(0,100);default:return n.slice(0,200)}}return e}}const po=function(e){(e=e||{}).concurrency=e.concurrency||4,e.cache=e.cache||{};const t=new ho(e),n=(0,V.re)({name:"peerLocations",actionBaseType:"PEER_LOCATIONS",getPromise:e=>{let{store:n}=e;return t.findLocations(n.selectAvailableGatewayUrl(),n.selectPeers())},staleAfter:oo,retryAfter:oo,persist:!1,checkIfOnline:!1});return n.reactPeerLocationsFetch=(0,V.Mz)("selectRouteInfo","selectPeerLocationsShouldUpdate","selectIpfsConnected",((e,t,n)=>{if("/peers"===e.url&&t&&n)return{actionCreator:"doFetchPeerLocations"}})),n.selectPeerLocationsForSwarm=(0,V.Mz)("selectPeers","selectPeerLocations","selectBootstrapPeers",ro,(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>3?arguments[3]:void 0;return e&&Promise.all(e.map((async e=>{var r;const o=e.peer,i=t?t[o]:null,s=ao(i),a=i&&i.country_code,u=i&&[i.longitude,i.latitude],l=uo(e.addr),c=e.addr.toString(),f=lo(e.latency),h=e.direction,{isPrivate:d,isNearby:p}=await fo(e.addr,n);return{peerId:o,location:s,flagCode:a,coordinates:u,connection:l,address:c,protocols:(Array.isArray(e.streams)?Array.from(new Set(e.streams.map((e=>e.Protocol)).map((e=>null!==e&&void 0!==e&&e.trim()?e:"[unnamed]")))).sort():[]).join(", "),direction:h,latency:f,isPrivate:d,isNearby:p,agentVersion:null===(r=e.identify)||void 0===r?void 0:r.AgentVersion}})))})),n.selectPeersCoordinates=(0,V.Mz)("selectPeerLocationsForSwarm",(async e=>{if(!e)return[];return(await e).reduce(((e,t)=>{let{peerId:n,coordinates:r}=t;if(!r)return e;let o=!1;const i=e.map((e=>{if(!e||o)return e;const[t,i]=e.coordinates,[s,a]=r;return t-4<=s&&t+4>=s&&(i-4<=a&&i+4>=a)&&(e.peerIds.push(n),o=!0),e}));return o?i:[...i,{peerIds:[n],coordinates:r}]}),[])})),n};var go=n(809),yo=n(46053),mo=n(2135),bo=n.n(mo),vo=n(55982),wo=n(67824);function Eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ao(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eo(Object(n),!0).forEach((function(t){So(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function So(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Co(e){var t,n,r,o=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);o--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new To(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function To(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return To=function(e){this.s=e,this.n=e.next},To.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new To(e)}const ko=e=>e.split(":").at(-1),xo=e=>[...new Set(e)],Oo=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.every((t=>!t.some((t=>t===e))))},Io=(e,t)=>{if(e.length!==t.length)return t;return e.filter((e=>!t.includes(e))).length>0?t:e},Po=async(e,t,n)=>{var r,o;const i=t.find((t=>e.endpoint.toString()===t.apiEndpoint.toString())),s=null===i||void 0===i?void 0:i.icon,a=null===i||void 0===i?void 0:i.visitServiceUrl,u=Ao(Ao({},e),{},{name:e.service,icon:s,visitServiceUrl:a});if("invalid"===(null===e||void 0===e||null===(r=e.stat)||void 0===r?void 0:r.status))return Ao(Ao({},u),{},{numberOfPins:-1,online:!1});const l=null===(o=e.stat)||void 0===o||null===(o=o.pinCount)||void 0===o?void 0:o.pinned,c="number"===typeof l,f=c?await Bo(e.service,n):void 0;return Ao(Ao({},u),{},{numberOfPins:l,online:c,autoUpload:f})},Bo=Zr()((async(e,t)=>{try{return await t.config.get("Pinning.RemoteServices.".concat(e,".Policies.MFS.Enable"))}catch(r){var n;if(null!==(n=r.message)&&void 0!==n&&n.includes("key has no attribute"))try{return await t.config.get('Pinning.RemoteServices["'.concat(e,'"].Policies.MFS.Enable'))}catch(o){}console.error('unexpected config.get error for "'.concat(e,'": ').concat(r.message))}return!1}),{maxAge:3e3}),Do=(e,t)=>{const n=(0,vo.L)("remotesServicesBackoffs")||{},{service:r}=t,{lastTry:o,tryAfter:i}=n[r]||{lastTry:0,tryAfter:3e4};if(o+i>(new Date).getTime())throw new Error("still within back-off period");try{return e.pin.remote.ls(t)}catch(s){throw s.toString().includes("429 Too Many Requests")&&(n[r]={lastTry:(new Date).getTime(),tryAfter:3*i},(0,vo.c)("remotesServicesBackoffs",n)),s}},No={name:"pinning",persistActions:["UPDATE_REMOTE_PINS","DISMISS_REMOTE_PINS","CANCEL_PENDING_PINS"],init:e=>{(e=>{const t=setInterval((()=>{e.selectIpfsReady()&&(clearTimeout(t),e.selectPendingPins().forEach((t=>{var n;const[r,o]=t.split(":");e.doSetPinning({cid:null!==(n=yo.TO.asCID(o))&&void 0!==n?n:yo.TO.parse(o)},[r],!1)})))}),1e3)})(e),(e=>{setInterval((()=>{const t=[...e.selectPendingPins(),...e.selectFailedPins()].map((e=>({cid:e.split(":")[1]})));e.doFetchRemotePins(t,!0)}),3e4)})(e)},reducer:(e,t)=>{var n,r,o,i,s,a,u,l,c;if("UPDATE_REMOTE_PINS"===t.type){const{adds:n=[],removals:r=[],pending:o=[],failed:i=[]}=t.payload,s=Io(e.remotePins,xo([...e.remotePins,...n].filter(Oo(r,o,i)))),a=Io(e.notRemotePins,xo([...e.notRemotePins,...r].filter(Oo(n,o,i)))),u=Io(e.pendingPins,xo([...e.pendingPins,...o].filter(Oo(n,r,i)))),l=Io(e.failedPins,xo([...e.failedPins,...i].filter(Oo(n,r,o)))),c=Io(e.completedPins,xo([...e.completedPins,...n].filter((t=>e.pendingPins.some((e=>e===t))))));return Ao(Ao({},e),{},{remotePins:s,notRemotePins:a,pendingPins:u,failedPins:l,completedPins:c})}if("DISMISS_REMOTE_PINS"===t.type){const{failed:n=[],completed:r=[]}=t.payload,o=e.failedPins.filter(Oo(n)),i=e.completedPins.filter(Oo(r));return Ao(Ao({},e),{},{failedPins:o,completedPins:i})}if("SET_LOCAL_PINS_STATS"===t.type){const{localPinsSize:n,localNumberOfPins:r}=t.payload;return Ao(Ao({},e),{},{localNumberOfPins:r,localPinsSize:n})}if("SET_REMOTE_PINNING_SERVICES"===t.type){const n=e.pinningServices,r=t.payload;if((null===n||void 0===n?void 0:n.length)===(null===r||void 0===r?void 0:r.length)){const t=e=>e&&"undefined"!==typeof e.numberOfPins,o=n.some(t),i=r.some(t);if(o&&!i)return e}return Ao(Ao({},e),{},{pinningServices:r})}return"SET_REMOTE_PINNING_SERVICES_AVAILABLE"===t.type?Ao(Ao({},e),{},{arePinningServicesSupported:t.payload}):Ao(Ao({},e),{},{pinningServices:null!==(n=null===e||void 0===e?void 0:e.pinningServices)&&void 0!==n?n:[],remotePins:null!==(r=null===e||void 0===e?void 0:e.remotePins)&&void 0!==r?r:[],pendingPins:null!==(o=null===e||void 0===e?void 0:e.pendingPins)&&void 0!==o?o:[],failedPins:null!==(i=null===e||void 0===e?void 0:e.failedPins)&&void 0!==i?i:[],completedPins:null!==(s=null===e||void 0===e?void 0:e.completedPins)&&void 0!==s?s:[],notRemotePins:null!==(a=null===e||void 0===e?void 0:e.notRemotePins)&&void 0!==a?a:[],localPinsSize:null!==(u=null===e||void 0===e?void 0:e.localPinsSize)&&void 0!==u?u:0,localNumberOfPins:null!==(l=null===e||void 0===e?void 0:e.localNumberOfPins)&&void 0!==l?l:0,arePinningServicesSupported:null!==(c=null===e||void 0===e?void 0:e.arePinningServicesSupported)&&void 0!==c&&c})},doFetchRemotePins:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return async n=>{var r;let{dispatch:o,store:i,getIpfs:s}=n;const a=i.selectPinningServices();if(null===a||void 0===a||!a.length)return;const u=s();if(!u||null!==i&&void 0!==i&&null!==(r=i.ipfs)&&void 0!==r&&null!==(r=r.ipfs)&&void 0!==r&&r.ready||!u.pin.remote)return;const l=e?e.map((e=>e.cid.toString())):[],c=i.selectRemotePins(),f=i.selectNotRemotePins(),h=((e,t)=>{const n=[...new Set(e)],r=[];for(let o=0;o<n.length;o+=t){const e=n.slice(o,o+t);r.push(e)}return r})(l,10),d=[],p=[],g=[],y=[];await Promise.allSettled(a.map((async e=>{try{const m=t?new Set:new Set([...c,...f].filter((t=>t.startsWith(e.name))).map(ko));for(const t of h){const c=t.filter((e=>!m.has(e.toString())));if(!c.length)continue;const f=new Set(c.map((e=>e.toString())));try{const t=Do(u,{service:e.name,cid:c.map((e=>{var t;return null!==(t=yo.TO.asCID(e))&&void 0!==t?t:yo.TO.parse(e)})),status:["queued","pinning","pinned","failed"]});var n,r=!1,o=!1;try{for(var i,s=Co(t);r=!(i=await s.next()).done;r=!1){const t=i.value;{const n=t.cid.toString();f.delete(n),"queued"===t.status||"pinning"===t.status?y.push("".concat(e.name,":").concat(n)):"failed"===t.status?g.push("".concat(e.name,":").concat(n)):d.push("".concat(e.name,":").concat(n))}}}catch(a){o=!0,n=a}finally{try{r&&null!=s.return&&await s.return()}finally{if(o)throw n}}}catch(l){console.error("Error: pin.remote.ls service=".concat(e.name," cid=").concat(c,": ").concat(l.toString()))}for(const t of f)p.push("".concat(e.name,":").concat(t))}}catch(l){console.error("unexpected error during doFetchRemotePins",l)}}))),o({type:"UPDATE_REMOTE_PINS",payload:{adds:d,removals:p,pending:y,failed:g}})}},selectRemotePins:e=>e.pinning.remotePins||[],selectNotRemotePins:e=>e.pinning.notRemotePins||[],selectPendingPins:e=>e.pinning.pendingPins||[],selectFailedPins:e=>e.pinning.failedPins||[],selectCompletedPins:e=>e.pinning.completedPins||[],selectLocalPinsSize:e=>e.pinning.localPinsSize,selectLocalNumberOfPins:e=>e.pinning.localNumberOfPins,doSelectRemotePinsForFile:e=>t=>{let{store:n}=t;const r=n.selectPinningServices().map((e=>e.name));return xo([...n.selectPendingPins(),...n.selectRemotePins()]).filter((t=>ko(t)===e.cid.toString())).map((e=>e.split(":").at(0))).filter((e=>r.includes(e)))},doFetchLocalPinsStats:()=>async e=>{let{getIpfs:t,dispatch:n}=e;const r=t();if(!r)return null;n({type:"SET_LOCAL_PINS_STATS",payload:{localPinsSize:-1,localNumberOfPins:(await bo()(r.pin.ls({type:"recursive"}))).length}})},doFetchPinningServices:()=>async e=>{var t;let{getIpfs:n,store:r,dispatch:o}=e;const i=n();if(!i||null!==r&&void 0!==r&&null!==(t=r.ipfs)&&void 0!==t&&null!==(t=t.ipfs)&&void 0!==t&&t.ready||!i.pin.remote)return null;const s=(await i.commands()).Subcommands.find((e=>"pin"===e.Name)).Subcommands.some((e=>"remote"===e.Name));if(o({type:"SET_REMOTE_PINNING_SERVICES_AVAILABLE",payload:s}),!s)return null;const a=r.selectRemoteServiceTemplates(),u=await i.pin.remote.service.ls();o({type:"SET_REMOTE_PINNING_SERVICES",payload:await Promise.all(u.map((e=>Po(e,a,i))))})},doFetchPinningServicesStats:()=>async e=>{var t;let{getIpfs:n,store:r,dispatch:o}=e;const i=n();if(!i||null!==r&&void 0!==r&&null!==(t=r.ipfs)&&void 0!==t&&null!==(t=t.ipfs)&&void 0!==t&&t.ready||!i.pin.remote)return null;if(!(await i.commands()).Subcommands.find((e=>"pin"===e.Name)).Subcommands.some((e=>"remote"===e.Name)))return null;const s=r.selectRemoteServiceTemplates(),a=await i.pin.remote.service.ls({stat:!0});o({type:"SET_REMOTE_PINNING_SERVICES",payload:await Promise.all(a.map((e=>Po(e,s,i))))})},selectPinningServices:e=>e.pinning.pinningServices||[],selectRemoteServiceTemplates:()=>go.E,selectArePinningServicesSupported:e=>e.pinning.arePinningServicesSupported,selectPinningServicesDefaults:()=>go.E.reduce(((e,t)=>Ao(Ao({},e),{},{[t.name]:Ao(Ao({},t),{},{nickname:t.name})})),{}),doDismissCompletedPin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return async e=>{let{dispatch:n}=e;n({type:"DISMISS_REMOTE_PINS",payload:{completed:t}})}},doDismissFailedPin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return async e=>{let{dispatch:n}=e;n({type:"DISMISS_REMOTE_PINS",payload:{failed:t}})}},doCancelPendingPin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return async e=>{let{getIpfs:n,dispatch:r}=e;const o=n();for(const s of t){var i;const[e,t]=s.split(":");await o.pin.remote.rm({cid:[null!==(i=yo.TO.asCID(t))&&void 0!==i?i:yo.TO.parse(t)],service:e})}r({type:"UPDATE_REMOTE_PINS",payload:{removals:t}})}},doSetPinning:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return async o=>{let{getIpfs:i,store:s,dispatch:a}=o;const u=i(),{cid:l,name:c}=e,f=t.includes("local");if(n!==f)try{const e={serviceName:"Local node"};f?(await u.pin.add(l),a({type:"IPFS_PIN_SUCCEED",msgArgs:e}),(0,wo.OR)(l,u,"PIN")):(await u.pin.rm(l),a({type:"IPFS_UNPIN_SUCCEED",msgArgs:e}))}catch(g){console.error("unexpected local pin error for ".concat(l," (").concat(c,")"),g);const e={serviceName:"local",errorMsg:g.toString()};a({type:"IPFS_PIN_FAILED",msgArgs:e})}const h=[],d=[],p=[];s.selectPinningServices().forEach((async e=>{const n=t.includes(e.name);if(r.includes(e.name)===n)return;const o="".concat(e.name,":").concat(l);try{const t={serviceName:e.name};n?(h.push(o),await u.pin.remote.add(l,{service:e.name,name:c,background:!0}),a({type:"IPFS_PIN_SUCCEED",msgArgs:t})):(p.push(o),await u.pin.remote.rm({cid:[l],service:e.name}),a({type:"IPFS_UNPIN_SUCCEED",msgArgs:t}))}catch(g){console.error("ipfs.pin.remote error for ".concat(l,"@").concat(e.name),g);const n={serviceName:e.name,errorMsg:g.toString()};d.push(o),a({type:"IPFS_PIN_FAILED",msgArgs:n})}})),a({type:"UPDATE_REMOTE_PINS",payload:{adds:[],removals:p,pending:h,failed:d}}),await s.doPinsFetch()}},doAddPinningService:e=>{let{apiEndpoint:t,nickname:n,secretApiKey:r}=e;return async e=>{let{getIpfs:o}=e;const i=o();n=n.replaceAll(".","_"),await i.pin.remote.service.add(n,{endpoint:t,key:r})}},doRemovePinningService:e=>async t=>{let{getIpfs:n,store:r}=t;const o=n();await o.pin.remote.service.rm(e),r.doFetchPinningServices()},doSetAutoUploadForService:e=>async t=>{let{getIpfs:n,store:r}=t;const o=n(),i="Pinning.RemoteServices.".concat(e,".Policies.MFS.Enable"),s=await o.config.get(i);await o.config.set(i,!s),r.doFetchPinningServices()}},Fo=No;var _o=n(40644),Lo=n(55285),Ro=n(62720),jo=n(48298),Mo=n(80219),Uo=n.n(Mo);function Ho(e,t){if(!e){var n=new Error("loadable: "+t);throw n.framesToPop=1,n.name="Invariant Violation",n}}var zo=e.createContext();var Vo={initialChunks:{}},$o="PENDING",Go="REJECTED";var Wo=function(e){return e};function qo(t){var n=t.defaultResolveComponent,r=void 0===n?Wo:n,o=t.render,i=t.onLoad;function s(t,n){void 0===n&&(n={});var s=function(e){return"function"===typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e}(t),a={};function u(e){return n.cacheKey?n.cacheKey(e):s.resolve?s.resolve(e):"static"}function l(e,t,o){var i=n.resolveComponent?n.resolveComponent(e,t):r(e);return Uo()(o,i,{preload:!0}),i}var c=function(e){var t=u(e),n=a[t];return n&&n.status!==Go||((n=s.requireAsync(e)).status=$o,a[t]=n,n.then((function(){n.status="RESOLVED"}),(function(t){console.error("loadable-components: failed to asynchronously load component",{fileName:s.resolve(e),chunkName:s.chunkName(e),error:t?t.message:t}),n.status=Go}))),n},f=function(t){var n=function(n){return e.createElement(zo.Consumer,null,(function(r){return e.createElement(t,Object.assign({__chunkExtractor:r},n))}))};return t.displayName&&(n.displayName=t.displayName+"WithChunkExtractor"),n}(function(e){function t(t){var r;return(r=e.call(this,t)||this).state={result:null,error:null,loading:!0,cacheKey:u(t)},Ho(!t.__chunkExtractor||s.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),t.__chunkExtractor?(!1===n.ssr||(s.requireAsync(t).catch((function(){return null})),r.loadSync(),t.__chunkExtractor.addChunk(s.chunkName(t))),(0,Ro.A)(r)):(!1!==n.ssr&&(s.isReady&&s.isReady(t)||s.chunkName&&Vo.initialChunks[s.chunkName(t)])&&r.loadSync(),r)}(0,jo.A)(t,e),t.getDerivedStateFromProps=function(e,t){var n=u(e);return(0,Lo.A)({},t,{cacheKey:n,loading:t.loading||t.cacheKey!==n})};var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===Go&&this.setCache(),this.state.loading&&this.loadAsync()},r.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&this.loadAsync()},r.componentWillUnmount=function(){this.mounted=!1},r.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},r.getCacheKey=function(){return u(this.props)},r.getCache=function(){return a[this.getCacheKey()]},r.setCache=function(e){void 0===e&&(e=void 0),a[this.getCacheKey()]=e},r.triggerOnLoad=function(){var e=this;i&&setTimeout((function(){i(e.state.result,e.props)}))},r.loadSync=function(){if(this.state.loading)try{var e=l(s.requireSync(this.props),this.props,h);this.state.result=e,this.state.loading=!1}catch(t){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:s.resolve(this.props),chunkName:s.chunkName(this.props),error:t?t.message:t}),this.state.error=t}},r.loadAsync=function(){var e=this,t=this.resolveAsync();return t.then((function(t){var n=l(t,e.props,h);e.safeSetState({result:n,loading:!1},(function(){return e.triggerOnLoad()}))})).catch((function(t){return e.safeSetState({error:t,loading:!1})})),t},r.resolveAsync=function(){var e=this.props,t=(e.__chunkExtractor,e.forwardedRef,(0,_o.A)(e,["__chunkExtractor","forwardedRef"]));return c(t)},r.render=function(){var e=this.props,t=e.forwardedRef,r=e.fallback,i=(e.__chunkExtractor,(0,_o.A)(e,["forwardedRef","fallback","__chunkExtractor"])),s=this.state,a=s.error,u=s.loading,l=s.result;if(n.suspense&&(this.getCache()||this.loadAsync()).status===$o)throw this.loadAsync();if(a)throw a;var c=r||n.fallback||null;return u?c:o({fallback:c,result:l,options:n,props:(0,Lo.A)({},i,{ref:t})})},t}(e.Component)),h=e.forwardRef((function(t,n){return e.createElement(f,Object.assign({forwardedRef:n},t))}));return h.displayName="Loadable",h.preload=function(e){h.load(e)},h.load=function(e){return c(e)},h}return{loadable:s,lazy:function(e,t){return s(e,(0,Lo.A)({},t,{suspense:!0}))}}}var Ko=qo({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(t){var n=t.result,r=t.props;return e.createElement(n,r)}}),Yo=Ko.loadable,Zo=Ko.lazy,Jo=qo({onLoad:function(e,t){e&&t.forwardedRef&&("function"===typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,n=e.props;return n.children?n.children(t):null}}),Xo=Jo.loadable,Qo=Jo.lazy;var ei=Yo;ei.lib=Xo,Zo.lib=Qo;const ti=ei,ni=ti((()=>Promise.all([n.e(139),n.e(937)]).then(n.bind(n,89937))),{fallback:e.createElement(x.A,null)}),ri=ti((()=>Promise.all([n.e(450),n.e(565),n.e(438),n.e(578),n.e(415)]).then(n.bind(n,66415))),{fallback:e.createElement(x.A,null)}),oi=ti((()=>n.e(992).then(n.bind(n,55992))),{fallback:e.createElement(x.A,null)}),ii=ti((()=>Promise.all([n.e(450),n.e(565),n.e(124),n.e(853)]).then(n.bind(n,33853))),{fallback:e.createElement(x.A,null)}),si=ti((()=>Promise.all([n.e(450),n.e(565),n.e(996),n.e(616)]).then(n.bind(n,13616))),{fallback:e.createElement(x.A,null)});var ai=n(70930),ui=n(48535),li=n(10091),ci=n(9858);const fi=(0,l.CI)("settings")((t=>{let{t:n}=t;return e.createElement("div",{"data-id":"AnalyticsPage",className:"mw9 center"},e.createElement(ai.mg,null,e.createElement("title",null,n("title")," | IPFS")),e.createElement(li.A,null,e.createElement(ui.A,null,n("analytics")),e.createElement(ci.A,{t:n,open:!0})))})),hi=ti((()=>n.e(984).then(n.bind(n,84984))),{fallback:e.createElement(x.A,null)}),di=()=>e.createElement("div",{"data-id":"BlankPage"}),pi=ti((()=>Promise.all([n.e(603),n.e(325)]).then(n.bind(n,88325))),{fallback:e.createElement(x.A,null)}),gi=ti((()=>Promise.all([n.e(603),n.e(504)]).then(n.bind(n,32504))),{fallback:e.createElement(x.A,null)}),yi=(0,r.N)("selectRouteInfo",(t=>{let{routeInfo:n}=t;const{pattern:r,url:o}=n,{setExplorePath:i}=(0,L.Nh)(),{doInitHelia:s,helia:a}=(0,L.pP)();return(0,e.useEffect)((()=>{null==a&&s()}),[a]),(0,e.useEffect)((()=>{i(window.location.hash)}),[o]),"/explore"===r?e.createElement(gi,null):e.createElement(pi,null)})),mi=ti((()=>Promise.all([n.e(450),n.e(578),n.e(701)]).then(n.bind(n,65701))),{fallback:(0,R.jsx)(x.A,{})}),bi=(0,V.iF)({"/explore":yi,"/explore*":yi,"/files*":ri,"/ipfs*":ri,"/ipns*":ri,"/pins*":oi,"/peers":ii,"/settings/analytics":fi,"/settings*":si,"/welcome":hi,"/blank":di,"/diagnostics*":mi,"/status*":ni,"/":ni,"":ni},{routeInfoSelector:"selectHash"}),vi={name:"redirects",reactToEmptyHash:(0,V.Mz)("selectHash",(e=>{if(""===e)return{actionCreator:"doUpdateHash",args:["#/"]}})),reactToIpfsConnectionFail:(0,V.Mz)("selectIpfsInitFailed","selectHash",((e,t)=>{if(e&&"/welcome"!==t&&!t.startsWith("/settings"))return{actionCreator:"doUpdateHash",args:["#/welcome"]}}))};var wi=n(91184),Ei=n(12544),Ai=n(26382).Buffer;const Si=["127.0.0.1","[::1]","0.0.0.0","[::]"],Ci=(0,V.re)({name:"config",staleAfter:6e4,persist:!1,checkIfOnline:!1,getPromise:async e=>{let{getIpfs:t,store:n}=e;const r=await t().config.getAll();let o;o=Ai.isBuffer(r)?r.toString():JSON.stringify(r,null,"\t");const i=JSON.parse(o),s=n.selectPublicGateway(),a=Ti("Gateway",i)||s,u=new URL(a);if(Si.includes(u.hostname)){u.hostname="localhost";const e=u.toString().replace(/\/+$/,"");if(await xi(e))return n.doSetAvailableGateway(e),o}return await ki(a)||n.doSetAvailableGateway(s),o}});function Ti(e,t){if(!t)return null;try{const n=(Array.isArray(t.Addresses[e])?t.Addresses[e][0]:t.Addresses[e]).replace(/\/0\.0\.0\.0\//,"/127.0.0.1/").replace(/\/::\//,"/::1/"),r=(0,Ei._)(n,{assumeHttp:!0});if(0===new URL(r).port)throw Error("port set to 0, not deterministic");return r}catch(n){return console.log("Failed to get url from config at Addresses.".concat(e),n),null}}Ci.selectConfigObject=(0,V.Mz)("selectConfig",(e=>JSON.parse(e))),Ci.reactIsSameOriginToBridge=(0,V.Mz)("selectConfigObject","selectPublicGateway",((e,t)=>{const n=Ti("API",e)||t;Jr.FY.setContext("selectIsSameOrigin",window.location.origin===n)})),Ci.selectGatewayUrl=(0,V.Mz)("selectConfigObject","selectPublicGateway",((e,t)=>Ti("Gateway",e)||t)),Ci.selectAvailableGatewayUrl=(0,V.Mz)("selectAvailableGateway","selectGatewayUrl",((e,t)=>e||t)),Ci.selectBootstrapPeers=(0,V.Mz)("selectConfigObject",(e=>e&&e.Bootstrap)),Ci.reactConfigFetch=(0,V.Mz)("selectConfigShouldUpdate","selectIpfsReady",((e,t)=>{if(e&&t)return{actionCreator:"doFetchConfig"}}));const ki=Zr()((async e=>{try{const{status:t}=await fetch("".concat(e,"/ipfs/bafkqae2xmvwgg33nmuqhi3zajfiemuzahiwss"));return 200===t}catch(t){return console.error("Unable to use the gateway at ".concat(e,". The public gateway will be used as a fallback"),t),!1}})),xi=Zr()((async e=>{try{(e=new URL(e)).hostname="bafkqae2xmvwgg33nmuqhi3zajfiemuzahiwss.ipfs.".concat(e.hostname);const{status:t}=await fetch(e.toString());return 200===t}catch(t){return console.error("Unable to use the subdomain gateway at ".concat(e,". Regular gateway will be used as a fallback"),t),!1}})),Oi=Ci;var Ii=n(92742),Pi=n(19156);function Bi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Di(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bi(Object(n),!0).forEach((function(t){Ni(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ni(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Fi={doSaveConfig:e=>async t=>{let{store:n}=t;n.selectConfigIsSaving()?console.log("doSaveConfig skipped, config save already in progress"):await n.doPerformSaveConfig(e)},doPerformSaveConfig:e=>(0,Pi.y)("CONFIG_SAVE",(async t=>{const n=await _i((async()=>{const n=JSON.parse(e),r=t.getIpfs();if(null==r)throw Error("IPFS node is not found");await r.config.replace(n)}));if(!n.ok)throw n.error;await t.store.doMarkConfigAsOutdated()}))},_i=async e=>{try{return{ok:!0,value:await e()}}catch(t){return{ok:!1,error:t}}},Li=Ii.H(["CONFIG_SAVE"]),Ri=Di(Di({name:"config_save",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isSaving:!1},t=arguments.length>1?arguments[1]:void 0;if(t.type===Li.CONFIG_SAVE){const{task:n}=t;switch(n.status){case"Init":return Di(Di({},e),{},{isSaving:!0});case"Exit":{const{result:t}=n;if(t.ok)return Di(Di({},e),{},{isSaving:!1,lastSuccess:Date.now()});{const{error:n}=t,r=n&&n.message||String(n);return Di(Di({},e),{},{isSaving:!1,lastError:Date.now(),errorMessage:r})}}default:return e}}return e}},{selectConfigIsSaving:e=>e.config_save.isSaving,selectConfigSaveLastSuccess:e=>e.config_save.lastSuccess,selectConfigSaveLastError:e=>e.config_save.lastError}),Fi),ji=Ri;var Mi=n(15094),Ui=n.n(Mi);function Hi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hi(Object(n),!0).forEach((function(t){Vi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vi(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const $i={name:"tours",init:e=>{Ui().localStorage.getItem("tourTooltip")&&e.doDisableTooltip()},reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{enabled:!1,tooltip:!0},t=arguments.length>1?arguments[1]:void 0;return"TOURS_ENABLE"===t.type?zi(zi({},e),{},{enabled:!0}):"TOURS_DISABLE"===t.type?zi(zi({},e),{},{enabled:!1}):"TOURS_TOOLTIP_DISABLE"===t.type?zi(zi({},e),{},{tooltip:!1}):e},doDisableTooltip:()=>e=>{let{dispatch:t}=e;Ui().localStorage.setItem("tourTooltip",!1),t({type:"TOURS_TOOLTIP_DISABLE"})},doEnableTours:()=>e=>{let{dispatch:t}=e;t({type:"TOURS_ENABLE"})},doDisableTours:()=>e=>{let{dispatch:t}=e;t({type:"TOURS_DISABLE"})},selectTours:e=>e.tours,selectToursEnabled:e=>e.tours.enabled,selectShowTooltip:e=>e.tours.tooltip};function Gi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gi(Object(n),!0).forEach((function(t){qi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qi(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ki=Ii.H(["EXPERIMENTS_TOGGLE","EXPERIMENTS_UPDATE_STATE"]),Yi=[],Zi=(e,t)=>Wi(Wi({},e),{},{[t]:Wi(Wi({},e[t]),{},{blocked:!1})}),Ji={selectExperimentsState:e=>e.experiments,selectExperiments:(0,V.Mz)("selectExperimentsState",(e=>Yi.map((t=>Wi(Wi({},t),e[t.key])))))},Xi={doExpToggleAction:e=>t=>{let{dispatch:n}=t;e&&n({type:Ki.EXPERIMENTS_TOGGLE,task:{status:"Init",id:Symbol(Ki.EXPERIMENTS_TOGGLE),init:{key:e}}})}},Qi=Wi(Wi({name:"experiments",persistActions:[Ki.EXPERIMENTS_TOGGLE,Ki.EXPERIMENTS_UPDATE_STATE],reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ki.EXPERIMENTS_TOGGLE:{const{task:n}=t;switch(n.status){case"Init":return((e,t)=>Wi(Wi({},e),{},{[t]:Wi(Wi({},e[t]),{},{blocked:!0})}))(e,n.init.key);case"Exit":{const{result:t}=n;return t.ok?((e,t)=>Zi(Wi(Wi({},e),{},{[t]:Wi(Wi({},e[t]),{},{enabled:!(e&&e[t]&&e[t].enabled)})}),t))(e,t.value.key):Zi(e,t.error.key)}default:return e}}case Ki.EXPERIMENTS_UPDATE_STATE:return((e,t)=>Object.keys(t).reduce(((n,r)=>Wi(Wi({},n),{},{[r]:Wi(Wi({},e[r]),t[r])})),e))(e,t.payload);default:return e}}},Ji),Xi),es=Qi;function ts(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ns(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ts(Object(n),!0).forEach((function(t){rs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ts(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rs(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const os={show:!1,error:!1,eventId:null,code:null},is={name:"notify",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:os,t=arguments.length>1?arguments[1]:void 0;return"NOTIFY_DISMISSED"===t.type?ns(ns({},e),{},{show:!1}):"STATS_FETCH_FAILED"===t.type?ns(ns({},e),{},{show:!0,error:!0,eventId:t.type}):t.type.match(/^FILES_\w+_FAILED$/)?ns(ns({},e),{},{show:!0,error:!0,eventId:"FILES_EVENT_FAILED",code:t.payload.error.code}):"STATS_FETCH_FINISHED"===t.type&&"STATS_FETCH_FAILED"===e.eventId?ns(ns({},e),{},{error:!1,eventId:"STATS_FETCH_FINISHED",lastSuccess:Date.now()}):"SWARM_CONNECT_FAILED"===t.type||"SWARM_CONNECT_FINISHED"===t.type?ns(ns({},e),{},{show:!0,error:"SWARM_CONNECT_FAILED"===t.type,eventId:t.type}):t.type===Ki.EXP_TOGGLE_FAILED?ns(ns({},e),{},{show:!0,error:!0,eventId:"experimentsErrors.".concat(t.payload.key)}):"IPFS_PIN_FAILED"===t.type?ns(ns({},e),{},{show:!0,error:!0,msgArgs:t.msgArgs,eventId:t.type}):"IPFS_PIN_SUCCEED"===t.type||"IPFS_UNPIN_SUCCEED"===t.type?ns(ns({},e),{},{show:!0,error:!1,msgArgs:t.msgArgs,eventId:t.type}):"IPFS_CONNECT_FAILED"===t.type?ns(ns({},e),{},{show:!0,error:!0,eventId:t.type}):"IPFS_CONNECT_SUCCEED"===t.type?ns(ns({},e),{},{show:!0,error:!1,eventId:t.type}):"IPFS_API_ADDRESS_INVALID"===t.type?ns(ns({},e),{},{show:!0,error:!0,eventId:t.type}):e},selectNotify:e=>e.notify,selectNotifyI18nKey:(0,V.Mz)("selectNotify","selectIpfsProvider",((e,t)=>{const{eventId:n,code:r}=e;if("STATS_FETCH_FAILED"===n)return"ipfsApiRequestFailed";if("IPFS_CONNECT_FAILED"===n)return"ipfsConnectFail";if("IPFS_CONNECT_SUCCEED"===n)return"ipfsConnectSuccess";if("IPFS_API_ADDRESS_INVALID"===n)return"ipfsInvalidApiAddress";if("IPFS_PIN_FAILED"===n)return"ipfsPinFailReason";if("IPFS_PIN_SUCCEED"===n)return"ipfsPinSucceedReason";if("IPFS_UNPIN_SUCCEED"===n)return"ipfsUnpinSucceedReason";if("FILES_EVENT_FAILED"===n){switch(r?r.replace(/^(ERR_)/,""):""){case"FOLDER_EXISTS":return"folderExists";case wi.kl.WRITE:case wi.kl.ADD_BY_PATH:case"API_RESPONSE":return"filesAddFailed";case wi.kl.FETCH:return"filesFetchFailed";case wi.kl.MOVE:return"filesRenameFailed";case wi.kl.MAKE_DIR:return"filesMakeDirFailed";case wi.kl.COPY:return"filesCopyFailed";case wi.kl.DELETE:return"filesRemoveFailed";default:return"filesEventFailed"}}return"STATS_FETCH_FINISHED"===n?"ipfsIsBack":"SWARM_CONNECT_FAILED"===n?"couldntConnectToPeer":"SWARM_CONNECT_FINISHED"===n?"connectedToPeer":n})),doNotifyDismiss:()=>e=>{let{dispatch:t}=e;return t({type:"NOTIFY_DISMISSED"})},reactNotifyOkDismiss:(0,V.Mz)("selectAppTime","selectNotify",((e,t)=>{if("STATS_FETCH_FINISHED"===t.eventId&&t.show&&e-t.lastSuccess>3e3)return{type:"NOTIFY_DISMISSED"}}))};function ss(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function as(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ss(Object(n),!0).forEach((function(t){us(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ss(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function us(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ls={selectConnectedLastError:e=>e.connected.lastError,selectIpfsConnected:(0,V.Mz)("selectIpfsReady","selectNodeBandwidthLastSuccess","selectNodeBandwidthLastError",((e,t,n)=>e&&null!=t&&t>n)),selectIsNodeInfoOpen:e=>e.connected.isNodeInfoOpen},cs=as(as({name:"connected",reducer:(e,t)=>{switch(e=e||{lastError:0,isNodeInfoOpen:!1},t.type){case"STATS_FETCH_FAILED":return as(as({},e),{},{lastError:Date.now()});case"NODE_INFO_OPEN":return as(as({},e),{},{isNodeInfoOpen:t.payload});default:return e}},reactConnectedToBridge:(0,V.Mz)("selectIpfsConnected",(e=>{Jr.FY.setContext("selectIpfsConnected",e)})),reactIsNodeInfoOpenToBridge:(0,V.Mz)("selectIsNodeInfoOpen",(e=>{Jr.FY.setContext("selectIsNodeInfoOpen",e)}))},{doSetIsNodeInfoOpen:e=>t=>{let{dispatch:n}=t;return n({type:"NODE_INFO_OPEN",payload:e})}}),ls);function fs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fs(Object(n),!0).forEach((function(t){ds(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ds(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ps=()=>hs(hs({},{tryCount:0,needToRetry:!0,startedAt:void 0,failedAt:void 0,currentlyTrying:!1}),{},{needToRetry:!1}),gs={name:"retryInit",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{tryCount:0,needToRetry:!0,startedAt:void 0,failedAt:void 0,currentlyTrying:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RETRY_INIT_DISABLE":return ps();case $.kl.IPFS_INIT:{const{task:n}=t;switch(n.status){case"Init":{const t=Date.now();return hs(hs({},e),{},{currentlyTrying:!0,startedAt:t,tryCount:(e.tryCount||0)+1})}case"Exit":if(n.result.ok)return ps();{const t=Date.now();return hs(hs({},e),{},{failedAt:t,currentlyTrying:!1})}default:return e}}default:return e}},doDisableRetryInit:()=>e=>{e.dispatch({type:"RETRY_INIT_DISABLE"})},selectRetryInitState:e=>e.retryInit,reactConnectionInitRetry:(0,V.Mz)("selectAppTime","selectIpfsReady","selectRetryInitState",((e,t,n)=>{let{failedAt:r,tryCount:o,needToRetry:i,currentlyTrying:s}=n;return!s&&(!!e&&(!!i&&(null!=o&&o>5||t?{actionCreator:"doDisableRetryInit"}:!(!r||e-r<2500)&&{actionCreator:"doTryInitIpfs"})))}))},ys=gs,ms=Ee({name:"bundle-cache",version:1,maxAge:1/0});function bs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bs(Object(n),!0).forEach((function(t){ws(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ws(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Es=window,As={selectIsIpfsDesktop:()=>!!Es.ipfsDesktop,selectDesktopCountlyActions:()=>[]},Ss=vs(vs({},As),{},{selectDesktopVersion:()=>{var e;return null===(e=Es.ipfsDesktop)||void 0===e?void 0:e.version},selectDesktopCountlyDeviceId:()=>{var e;return null===(e=Es.ipfsDesktop)||void 0===e?void 0:e.countlyDeviceId},selectDesktopCountlyActions:()=>{var e;return null===(e=Es.ipfsDesktop)||void 0===e?void 0:e.countlyActions}}),Cs=Es.ipfsDesktop?Ss:As,Ts={doDesktopAddConsent:e=>()=>{var t;return null===(t=Es.ipfsDesktop)||void 0===t?void 0:t.addConsent(e)},doDesktopRemoveConsent:e=>()=>{var t;return null===(t=Es.ipfsDesktop)||void 0===t?void 0:t.removeConsent(e)},doDesktopUpdateLanguage:e=>()=>{var t;return null===(t=Es.ipfsDesktop)||void 0===t?void 0:t.updateLanguage(e)}},ks=Es.ipfsDesktop?Ts:{},xs=vs(vs({name:"ipfsDesktop",reducer:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}},Cs),ks),Os=(0,V.re)({name:"repoStats",getPromise:async e=>{let{getIpfs:t}=e;return t().repo.stat()},staleAfter:6e4,persist:!1,checkIfOnline:!1});Os.selectRepoSize=(0,V.Mz)("selectRepoStats",(e=>{if(e&&e.repoSize)return e.repoSize.toString()})),Os.selectRepoNumObjects=(0,V.Mz)("selectRepoStats",(e=>{if(e&&e.numObjects)return e.numObjects.toString()})),Os.reactRepoStatsFetch=(0,V.Mz)("selectRepoStatsShouldUpdate","selectIpfsReady",((e,t)=>{if(e&&t)return{actionCreator:"doFetchRepoStats"}}));const Is=Os;var Ps=n(3724),Bs=n(32333);function Ds(e){if("function"===typeof e)return!0;if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])throw new TypeError("Expected a function");return!1}function Ns(e){if("number"===typeof e)return!0;if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])throw new TypeError("Expected a number");return!1}function Fs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fs(Object(n),!0).forEach((function(t){Ls(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ls(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Rs=!0,js=(0,Ii.H)(["DESKTOP_SETTING_TOGGLE"]),Ms=(0,Ii.H)(["ANALYTICS_ENABLED","ANALYTICS_DISABLED","ANALYTICS_ADD_CONSENT","ANALYTICS_REMOVE_CONSENT","SET_SHOW_ANALYTICS_BANNER"]),Us=[$.kl.IPFS_INIT,Li.CONFIG_SAVE,Bs.kl.MAKE_DIR,Bs.kl.WRITE,Bs.kl.ADD_BY_PATH,Bs.kl.MOVE,Bs.kl.DELETE,Bs.kl.DOWNLOAD_LINK,Ki.EXPERIMENTS_TOGGLE,js.DESKTOP_SETTING_TOGGLE];const Hs={all:["sessions","events","views","location","crashes"],safe:["sessions","events","views","location"]};function zs(e,t){const n=Array.isArray(e)?e:[e];Ui().Countly.q.push(["add_consent",n]),t.selectIsIpfsDesktop()&&t.doDesktopAddConsent(n)}function Vs(e,t){const n=Array.isArray(e)?e:[e];Ui().Countly.q.push(["remove_consent",n]),t.selectIsIpfsDesktop()&&t.doDesktopRemoveConsent(n)}function $s(e){let{id:t,duration:n}=e;Ui().Countly.q.push(["add_event",{key:t,count:1,dur:n}])}const Gs=new Map([["IPFS_INIT_FAILED",((e,t)=>(Ds(e)&&Ns(t),((e,t)=>{Ds(e)&&Ns(t);let n=0;return function(){if(n++,n>=t)return e(...arguments)}})((e=>{Ds(e);let t,n=!1;return function(){return n||(t=e(...arguments),n=!0),t}})(e),t)))($s,5)]]);const Ws={selectAnalytics:e=>e.analytics,selectAnalyticsConsent:e=>e.analytics.consent,selectAnalyticsEnabled:e=>e.analytics.consent.length>0,selectAnalyticsOptedOutPriorToDefaultOptIn:e=>!e.analytics.optedOut&&0===e.analytics.consent.length&&e.analytics.lastDisabledAt>e.analytics.lastEnabledAt,selectAnalyticsOptedOut:e=>e.analytics.optedOut,selectShowAnalyticsComponents:e=>e.analytics.showAnalyticsComponents,selectShowAnalyticsBanner:e=>e.analytics.showAnalyticsBanner,selectAnalyticsActionsToRecord:(0,V.Mz)("selectIsIpfsDesktop","selectDesktopCountlyActions",((e,t)=>e?t.concat(Us).sort():Array.from(Us).sort()))},qs={doToggleAnalytics:()=>e=>{let{store:t}=e;!t.selectAnalyticsEnabled()?t.doEnableAnalytics():t.doDisableAnalytics()},doDisableAnalytics:()=>e=>{let{dispatch:t,store:n}=e;Ui().Countly.opt_out(),Vs(Hs.all,n),t({type:"ANALYTICS_DISABLED",payload:{consent:[]}})},doEnableAnalytics:()=>e=>{let{dispatch:t,store:n}=e;Vs(Hs.all,n),Ui().Countly.opt_in(),zs(Hs.safe,n),t({type:"ANALYTICS_ENABLED",payload:{consent:Hs.safe}})},doToggleConsent:e=>t=>{let{store:n}=t;n.selectAnalyticsConsent().includes(e)?n.doRemoveConsent(e):n.doAddConsent(e)},doRemoveConsent:e=>t=>{let{dispatch:n,store:r}=t;0===r.selectAnalyticsConsent().filter((t=>t!==e)).length&&Ui().Countly.opt_out(),Vs(e,r),n({type:"ANALYTICS_REMOVE_CONSENT",payload:{name:e}})},doAddConsent:e=>t=>{let{dispatch:n,store:r}=t;0===r.selectAnalyticsConsent().length&&Ui().Countly.opt_in(),zs(e,r),n({type:"ANALYTICS_ADD_CONSENT",payload:{name:e}})},doToggleShowAnalyticsBanner:e=>t=>{let{dispatch:n}=t;n({type:"SET_SHOW_ANALYTICS_BANNER",payload:{shouldShow:e}})}},Ks=e=>{switch(e.type){case Bs.kl.MAKE_DIR:case Bs.kl.WRITE:case Bs.kl.ADD_BY_PATH:case Bs.kl.MOVE:case Bs.kl.DELETE:case Bs.kl.DOWNLOAD_LINK:case $.kl.IPFS_INIT:case Li.CONFIG_SAVE:return Ys(e.task,e.type);case Ki.EXPERIMENTS_TOGGLE:return Zs(e.task,"EXPERIMENTS");case js.DESKTOP_SETTING_TOGGLE:return Zs(e.task,"DESKTOP_SETTING");default:return null}},Ys=(e,t)=>{if("Exit"===e.status){const{duration:n,result:r}=e;return{id:r.ok?t:"".concat(t,"_FAILED"),duration:n,error:r.ok?null:r.error}}return null},Zs=(e,t)=>{if("Exit"===e.status){const{result:n,duration:r}=e,{key:o}=n.ok?n.value:n.error,i=n.ok?null:n.error,s=n.ok?n.value.value?"ENABLED":"DISABLED":"FAILED";return{id:"".concat(t,"_").concat(Ps.constantCase(o),"_").concat(s),duration:r,error:i}}return null},Js=e=>{let{countlyUrl:t="https://countly.ipfs.tech",appVersion:n="4.9.0",appGitRevision:r="c14b38a",debug:o=!1}=e;return _s(_s({name:"analytics",persistActions:[Ms.ANALYTICS_ENABLED,Ms.ANALYTICS_DISABLED,Ms.ANALYTICS_DISABLED,Ms.ANALYTICS_ADD_CONSENT,Ms.ANALYTICS_REMOVE_CONSENT,Ms.SET_SHOW_ANALYTICS_BANNER],init:async e=>{Ui().Countly||(Ui().Countly={},Ui().Countly.q=[],Ui().Countly.opt_out=()=>{},Ui().Countly.opt_in=()=>{},Ui().Countly.init=()=>{}),e.subscribeToSelectors(["selectRouteInfo"],(e=>{let{routeInfo:t}=e;Ui().location&&Ui().location.hash}))},getMiddleware:()=>()=>e=>t=>{const n=Ks(t);if(n){const{id:e,duration:r,error:o}=n;!function(e){let{id:t,duration:n}=e;const r=Gs.get(t);r?r({id:t,duration:n}):$s({id:t,duration:n})}({id:e,duration:r}),o&&(Ui().Countly.q.push(["add_log",t.type]),Ui().Countly.q.push(["log_error",o]))}return e(t)},reducer:(e,t)=>{switch(e=e||{lastEnabledAt:0,lastDisabledAt:0,showAnalyticsComponents:!1,showAnalyticsBanner:!1,optedOut:Rs,consent:[]},t.type){case Ms.ANALYTICS_ENABLED:return _s(_s({},e),{},{lastEnabledAt:Date.now(),consent:t.payload.consent,optedOut:!1});case Ms.ANALYTICS_DISABLED:return _s(_s({},e),{},{lastDisabledAt:Date.now(),consent:t.payload.consent,optedOut:!0,showAnalyticsBanner:!1});case Ms.ANALYTICS_ADD_CONSENT:{const n=e.consent.filter((e=>e!==t.payload.name)).concat(t.payload.name);return _s(_s({},e),{},{lastEnabledAt:Date.now(),consent:n,optedOut:!1})}case Ms.ANALYTICS_REMOVE_CONSENT:{const n=e.consent.filter((e=>e!==t.payload.name)),r=0===n.length?Date.now():e.lastDisabledAt,o=0===n.length;return _s(_s({},e),{},{lastDisabledAt:r,consent:n,optedOut:o,showAnalyticsBanner:!1})}case Ms.SET_SHOW_ANALYTICS_BANNER:{var n;const r=(null===(n=t.payload)||void 0===n?void 0:n.shouldShow)||!1;return _s(_s({},e),{},{showAnalyticsBanner:r})}default:return e.consent?e:e.lastEnabledAt>e.lastDisabledAt?_s(_s({},e),{},{consent:Hs.safe}):_s(_s({},e),{},{consent:[]})}}},Ws),qs)};function Xs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xs(Object(n),!0).forEach((function(t){ea(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ea(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ta=(0,V.re)({name:"cliTutorMode",actionBaseType:"CLI_TUTOR_MODE_TOGGLE",persist:!0,checkIfOnline:!1,getPromise:()=>{}});ta.reactIsCliTutorModeEnabled=(0,V.Mz)("selectIsCliTutorModeEnabled",(e=>{const t=Boolean(JSON.parse(localStorage.getItem("isCliTutorModeEnabled")));void 0!==e&&e!==t&&localStorage.setItem("isCliTutorModeEnabled",e)})),ta.selectIsCliTutorModeEnabled=e=>e.cliTutorMode.isCliTutorModeEnabled,ta.selectIsCliTutorModalOpen=e=>!!e.cliTutorMode.showCliTutorModal,ta.selectCliOptions=e=>e.cliTutorMode.cliOptions,ta.reducer=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"CLI_TUTOR_MODE_TOGGLE"===t.type?Qs(Qs({},e),{},{isCliTutorModeEnabled:t.payload}):"CLI_TUTOR_MODAL_ENABLE"===t.type?Qs(Qs({},e),{},{showCliTutorModal:t.payload}):"CLI_OPTIONS"===t.type?Qs(Qs({},e),{},{cliOptions:t.payload}):e},ta.doToggleCliTutorMode=e=>t=>{let{dispatch:n}=t;n({type:"CLI_TUTOR_MODE_TOGGLE",payload:e})},ta.doSetCliOptions=e=>t=>{let{dispatch:n}=t;n({type:"CLI_OPTIONS",payload:e})},ta.doOpenCliTutorModal=e=>t=>{let{dispatch:n}=t;n({type:"CLI_TUTOR_MODAL_ENABLE",payload:e})},ta.doOpenCliTutorModal=e=>t=>{let{dispatch:n}=t;n({type:"CLI_TUTOR_MODAL_ENABLE",payload:e})},ta.init=e=>{const t=Boolean(JSON.parse(localStorage.getItem("isCliTutorModeEnabled")));return e.doToggleCliTutorMode(t)};const na=ta;var ra=n(10555);function oa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ia(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oa(Object(n),!0).forEach((function(t){sa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sa(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const aa={name:"ipns",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{keys:[],expectedPublishTime:(0,vo.L)("expectedPublishTime")||60},t=arguments.length>1?arguments[1]:void 0;return"CACHE_IPNS_KEYS"===t.type?ia(ia({},e),{},{keys:t.payload}):"SET_EXPECTED_PUBLISH_TIME"===t.type?ia(ia({},e),{},{expectedPublishTime:t.payload}):e},selectIpnsKeys:e=>e.ipns.keys||[],selectExpectedPublishTime:e=>e.ipns.expectedPublishTime,doFetchIpnsKeys:()=>async e=>{let{getIpfs:t,dispatch:n}=e;const r=t(),o=await r.key.list(),i=[];for(const{id:s,name:a}of o){const e=(await bo()(r.name.resolve("/ipns/".concat(s),{offline:!0}))).length>0;i.push({id:s,name:a,published:e})}n({type:"CACHE_IPNS_KEYS",payload:i})},doGenerateIpnsKey:e=>async t=>{let{getIpfs:n,store:r}=t;const o=n();await o.key.gen(e),r.doFetchIpnsKeys()},doRemoveIpnsKey:e=>async t=>{let{getIpfs:n,store:r}=t;const o=n();await o.key.rm(e),r.doFetchIpnsKeys()},doRenameIpnsKey:(e,t)=>async n=>{let{getIpfs:r,store:o}=n;const i=r();await i.key.rename(e,t),o.doFetchIpnsKeys()},doPublishIpnsKey:(e,t)=>async n=>{let{getIpfs:r,store:o}=n;const i=r();await i.name.publish(e,{key:t}),(0,wo.OR)(e,i,"IPNS")},doUpdateExpectedPublishTime:e=>async t=>{let{store:n,dispatch:r}=t;const o=n.selectExpectedPublishTime(),i=Math.floor((1.5*e+o)/2);await(0,vo.c)("expectedPublishTime",i),r({type:"SET_EXPECTED_PUBLISH_TIME",payload:i})}},ua=aa,la=(0,V.QP)({name:"bridgedContextCatchAll",reactRouteInfoToBridge:(0,V.Mz)("selectRouteInfo",(e=>{Jr.FY.setContext("selectRouteInfo",e)}))},(0,V.xq)({cacheFn:ms.set}),q({idleTimeout:5e3}),$.Ay,bi,vi,$i,(0,wi.Ay)(),Oi,ji,ra.Ay,re,J(),fe,po(),Fo,is,cs,ys,es,xs,Is,na,Js({}),ua);var ca=n(84004),fa=n(30785);function ha(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return da(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return da(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function da(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pa(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var ga=0,ya=(0,e.memo)((function(t){var n=t.children,r=function(e){if("manager"in e){return[{dragDropManager:e.manager},!1]}var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ba(),n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=t;o[ma]||(o[ma]=(0,fa.s)(e,t,n,r));return o[ma]}(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[t,n]}(pa(t,["children"])),o=ha(r,2),i=o[0],s=o[1];return e.useEffect((function(){return s&&ga++,function(){s&&(0===--ga&&(ba()[ma]=null))}}),[]),e.createElement(fa.M.Provider,{value:i},n)}));ya.displayName="DndProvider";var ma=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");function ba(){return"undefined"!==typeof n.g?n.g:window}var va=n(35729);function wa(e){var t=null;return function(){return null==t&&(t=e()),t}}function Ea(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Aa=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.entered=[],this.isNodeInDocument=t}var t,n,r;return t=e,n=[{key:"enter",value:function(e){var t=this,n=this.entered.length;return this.entered=function(e,t){var n=new Set,r=function(e){return n.add(e)};e.forEach(r),t.forEach(r);var o=[];return n.forEach((function(e){return o.push(e)})),o}(this.entered.filter((function(n){return t.isNodeInDocument(n)&&(!n.contains||n.contains(e))})),[e]),0===n&&this.entered.length>0}},{key:"leave",value:function(e){var t,n,r=this.entered.length;return this.entered=(t=this.entered.filter(this.isNodeInDocument),n=e,t.filter((function(e){return e!==n}))),r>0&&0===this.entered.length}},{key:"reset",value:function(){this.entered=[]}}],n&&Ea(t.prototype,n),r&&Ea(t,r),e}(),Sa=wa((function(){return/firefox/i.test(navigator.userAgent)})),Ca=wa((function(){return Boolean(window.safari)}));function Ta(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ka,xa=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=t.length,o=[],i=0;i<r;i++)o.push(i);o.sort((function(e,n){return t[e]<t[n]?-1:1}));for(var s,a,u=[],l=[],c=[],f=0;f<r-1;f++)s=t[f+1]-t[f],a=n[f+1]-n[f],l.push(s),u.push(a),c.push(a/s);for(var h=[c[0]],d=0;d<l.length-1;d++){var p=c[d],g=c[d+1];if(p*g<=0)h.push(0);else{s=l[d];var y=l[d+1],m=s+y;h.push(3*m/((m+y)/p+(m+s)/g))}}h.push(c[c.length-1]);for(var b,v=[],w=[],E=0;E<h.length-1;E++){b=c[E];var A=h[E],S=1/l[E],C=A+h[E+1]-b-b;v.push((b-A-C)*S),w.push(C*S*S)}this.xs=t,this.ys=n,this.c1s=h,this.c2s=v,this.c3s=w}var t,n,r;return t=e,(n=[{key:"interpolate",value:function(e){var t=this.xs,n=this.ys,r=this.c1s,o=this.c2s,i=this.c3s,s=t.length-1;if(e===t[s])return n[s];for(var a,u=0,l=i.length-1;u<=l;){var c=t[a=Math.floor(.5*(u+l))];if(c<e)u=a+1;else{if(!(c>e))return n[a];l=a-1}}var f=e-t[s=Math.max(0,l)],h=f*f;return n[s]+r[s]*f+o[s]*h+i[s]*f*h}}])&&Ta(t.prototype,n),r&&Ta(t,r),e}();function Oa(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),r=n.top;return{x:n.left,y:r}}function Ia(e){return{x:e.clientX,y:e.clientY}}function Pa(e,t,n,r,o){var i=function(e){var t;return"IMG"===e.nodeName&&(Sa()||!(null===(t=document.documentElement)||void 0===t?void 0:t.contains(e)))}(t),s=Oa(i?e:t),a={x:n.x-s.x,y:n.y-s.y},u=e.offsetWidth,l=e.offsetHeight,c=r.anchorX,f=r.anchorY,h=function(e,t,n,r){var o=e?t.width:n,i=e?t.height:r;return Ca()&&e&&(i/=window.devicePixelRatio,o/=window.devicePixelRatio),{dragPreviewWidth:o,dragPreviewHeight:i}}(i,t,u,l),d=h.dragPreviewWidth,p=h.dragPreviewHeight,g=o.offsetX,y=o.offsetY,m=0===y||y;return{x:0===g||g?g:new xa([0,.5,1],[a.x,a.x/u*d,a.x+d-u]).interpolate(c),y:m?y:function(){var e=new xa([0,.5,1],[a.y,a.y/l*p,a.y+p-l]).interpolate(f);return Ca()&&i&&(e+=(window.devicePixelRatio-1)*p),e}()}}function Ba(e,t,n){var r=t.reduce((function(t,n){return t||e.getData(n)}),"");return null!=r?r:n}function Da(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Na=(Da(ka={},h.FILE,{exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items}},matchesTypes:["Files"]}),Da(ka,h.URL,{exposeProperties:{urls:function(e,t){return Ba(e,t,"").split("\n")}},matchesTypes:["Url","text/uri-list"]}),Da(ka,h.TEXT,{exposeProperties:{text:function(e,t){return Ba(e,t,"")}},matchesTypes:["Text","text/plain"]}),ka);function Fa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.item={},this.initializeExposedProperties()}var t,n,r;return t=e,(n=[{key:"initializeExposedProperties",value:function(){var e=this;Object.keys(this.config.exposeProperties).forEach((function(t){Object.defineProperty(e.item,t,{configurable:!0,enumerable:!0,get:function(){return console.warn("Browser doesn't allow reading \"".concat(t,'" until the drop event.')),null}})}))}},{key:"loadDataTransfer",value:function(e){var t=this;if(e){var n={};Object.keys(this.config.exposeProperties).forEach((function(r){n[r]={value:t.config.exposeProperties[r](e,t.config.matchesTypes),configurable:!0,enumerable:!0}})),Object.defineProperties(this.item,n)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}])&&Fa(t.prototype,n),r&&Fa(t,r),e}();function La(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(Na).filter((function(e){return Na[e].matchesTypes.some((function(e){return t.indexOf(e)>-1}))}))[0]||null}function Ra(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ja=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.globalContext=t}var t,n,r;return t=e,(n=[{key:"window",get:function(){return this.globalContext?this.globalContext:"undefined"!==typeof window?window:void 0}},{key:"document",get:function(){if(this.window)return this.window.document}}])&&Ra(t.prototype,n),r&&Ra(t,r),e}();function Ma(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ua(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ma(Object(n),!0).forEach((function(t){Ha(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ma(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ha(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function za(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Va=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.getSourceClientOffset=function(e){var t=r.sourceNodes.get(e);return t&&Oa(t)||null},this.endDragNativeItem=function(){r.isDraggingNativeItem()&&(r.actions.endDrag(),r.currentNativeHandle&&r.registry.removeSource(r.currentNativeHandle),r.currentNativeHandle=null,r.currentNativeSource=null)},this.isNodeInDocument=function(e){return Boolean(e&&r.document&&r.document.body&&document.body.contains(e))},this.endDragIfSourceWasRemovedFromDOM=function(){var e=r.currentDragSourceNode;r.isNodeInDocument(e)||r.clearCurrentDragSourceNode()&&r.actions.endDrag()},this.handleTopDragStartCapture=function(){r.clearCurrentDragSourceNode(),r.dragStartSourceIds=[]},this.handleTopDragStart=function(e){if(!e.defaultPrevented){var t=r.dragStartSourceIds;r.dragStartSourceIds=null;var n=Ia(e);r.monitor.isDragging()&&r.actions.endDrag(),r.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:r.getSourceClientOffset,clientOffset:n});var o=e.dataTransfer,i=La(o);if(r.monitor.isDragging()){if(o&&"function"===typeof o.setDragImage){var s=r.monitor.getSourceId(),a=r.sourceNodes.get(s),u=r.sourcePreviewNodes.get(s)||a;if(u){var l=r.getCurrentSourcePreviewNodeOptions(),c=Pa(a,u,n,{anchorX:l.anchorX,anchorY:l.anchorY},{offsetX:l.offsetX,offsetY:l.offsetY});o.setDragImage(u,c.x,c.y)}}try{null===o||void 0===o||o.setData("application/json",{})}catch(f){}r.setCurrentDragSourceNode(e.target),r.getCurrentSourcePreviewNodeOptions().captureDraggingState?r.actions.publishDragSource():setTimeout((function(){return r.actions.publishDragSource()}),0)}else if(i)r.beginDragNativeItem(i);else{if(o&&!o.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}}},this.handleTopDragEndCapture=function(){r.clearCurrentDragSourceNode()&&r.actions.endDrag()},this.handleTopDragEnterCapture=function(e){if(r.dragEnterTargetIds=[],r.enterLeaveCounter.enter(e.target)&&!r.monitor.isDragging()){var t=e.dataTransfer,n=La(t);n&&r.beginDragNativeItem(n,t)}},this.handleTopDragEnter=function(e){var t=r.dragEnterTargetIds;(r.dragEnterTargetIds=[],r.monitor.isDragging())&&(r.altKeyPressed=e.altKey,Sa()||r.actions.hover(t,{clientOffset:Ia(e)}),t.some((function(e){return r.monitor.canDropOnTarget(e)}))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=r.getCurrentDropEffect())))},this.handleTopDragOverCapture=function(){r.dragOverTargetIds=[]},this.handleTopDragOver=function(e){var t=r.dragOverTargetIds;if(r.dragOverTargetIds=[],!r.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));r.altKeyPressed=e.altKey,r.actions.hover(t||[],{clientOffset:Ia(e)}),(t||[]).some((function(e){return r.monitor.canDropOnTarget(e)}))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=r.getCurrentDropEffect())):r.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=function(e){r.isDraggingNativeItem()&&e.preventDefault(),r.enterLeaveCounter.leave(e.target)&&r.isDraggingNativeItem()&&r.endDragNativeItem()},this.handleTopDropCapture=function(e){var t;(r.dropTargetIds=[],e.preventDefault(),r.isDraggingNativeItem())&&(null===(t=r.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer));r.enterLeaveCounter.reset()},this.handleTopDrop=function(e){var t=r.dropTargetIds;r.dropTargetIds=[],r.actions.hover(t,{clientOffset:Ia(e)}),r.actions.drop({dropEffect:r.getCurrentDropEffect()}),r.isDraggingNativeItem()?r.endDragNativeItem():r.endDragIfSourceWasRemovedFromDOM()},this.handleSelectStart=function(e){var t=e.target;"function"===typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.options=new ja(n),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new Aa(this.isNodeInDocument)}var t,n,r;return t=e,(n=[{key:"profile",value:function(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(t=this.dragOverTargetIds)||void 0===t?void 0:t.length)||0}}},{key:"setup",value:function(){if(void 0!==this.window){if(this.window.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");this.window.__isReactDndBackendSetUp=!0,this.addEventListeners(this.window)}}},{key:"teardown",value:function(){void 0!==this.window&&(this.window.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.window),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&this.window.cancelAnimationFrame(this.asyncEndDragFrameId))}},{key:"connectDragPreview",value:function(e,t,n){var r=this;return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),function(){r.sourcePreviewNodes.delete(e),r.sourcePreviewNodeOptions.delete(e)}}},{key:"connectDragSource",value:function(e,t,n){var r=this;this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);var o=function(t){return r.handleDragStart(t,e)},i=function(e){return r.handleSelectStart(e)};return t.setAttribute("draggable","true"),t.addEventListener("dragstart",o),t.addEventListener("selectstart",i),function(){r.sourceNodes.delete(e),r.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",o),t.removeEventListener("selectstart",i),t.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(e,t){var n=this,r=function(t){return n.handleDragEnter(t,e)},o=function(t){return n.handleDragOver(t,e)},i=function(t){return n.handleDrop(t,e)};return t.addEventListener("dragenter",r),t.addEventListener("dragover",o),t.addEventListener("drop",i),function(){t.removeEventListener("dragenter",r),t.removeEventListener("dragover",o),t.removeEventListener("drop",i)}}},{key:"addEventListeners",value:function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return Ua({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var e=this.monitor.getSourceId();return Ua({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}},{key:"isDraggingNativeItem",value:function(){var e=this.monitor.getItemType();return Object.keys(h).some((function(t){return h[t]===e}))}},{key:"beginDragNativeItem",value:function(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,t){var n=new _a(Na[e]);return n.loadDataTransfer(t),n}(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout((function(){return t.window&&t.window.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}},{key:"clearCurrentDragSourceNode",value:function(){return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.window&&(this.window.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0)}},{key:"handleDragStart",value:function(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}},{key:"handleDragEnter",value:function(e,t){this.dragEnterTargetIds.unshift(t)}},{key:"handleDragOver",value:function(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}},{key:"handleDrop",value:function(e,t){this.dropTargetIds.unshift(t)}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}}])&&za(t.prototype,n),r&&za(t,r),e}();const $a=e=>{const t=function(e,t){return new Va(e,t)}(e),n=t.handleTopDropCapture;return t.handleTopDropCapture=e=>{if(n.call(t,e),t.currentNativeSource&&e.dataTransfer.items){if([...e.dataTransfer.items].every((e=>{let{kind:t}=e;return"string"===t})))return;const n=(0,va.getFilesFromDataTransferItems)(e.dataTransfer.items);t.currentNativeSource.item.filesPromise=n}},t};console.log("IPFS Web UI - v".concat("4.9.0"," - https://github.com/ipfs-shipyard/ipfs-webui/commit/").concat("c14b38a")),async function(){const n=await ms.getAll();console.log("%cStop!","color: red; font-size: 40px; font-weight: bold; text-shadow: 2px 2px 0 black;"),console.log("%cThis is a browser feature intended for developers. If someone told you to paste something here, they might be trying to steal your data!","color: black; font-size: 16px; font-weight: bold; background: yellow; padding: 4px; border-radius: 4px;");const o=la(n);t.render(e.createElement(r.K,{store:o},e.createElement(Jr.KI,null,e.createElement(l.xC,{i18n:ca.A},e.createElement(ya,{backend:$a},e.createElement(L.Fc,null,e.createElement(L.l4,null,e.createElement(z,null))))))),document.getElementById("root"))}()})()})();
//# sourceMappingURL=main.f20a2c6f.js.map